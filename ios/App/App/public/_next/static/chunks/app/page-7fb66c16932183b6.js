(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>c,r:()=>d});var t=s(5155),n=s(2115),l=s(4253),i=s(2085),r=s(9434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,a)=>{let{className:s,variant:n,size:i,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,t.jsx)(m,{className:(0,r.cn)(d({variant:n,size:i,className:s})),ref:a,...o})});c.displayName="Button"},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(5155),n=s(2115),l=s(9434);let i=n.forwardRef((e,a)=>{let{className:s,type:n,...i}=e;return(0,t.jsx)("input",{type:n,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...i})});i.displayName="Input"},3214:(e,a,s)=>{Promise.resolve().then(s.bind(s,6537))},5057:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var t=s(5155),n=s(2115),l=s(968),i=s(2085),r=s(9434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,r.cn)(d(),s),...n})});c.displayName=l.b.displayName},6104:(e,a,s)=>{"use strict";s.d(a,{db:()=>d});var t=s(3915),n=s(5317),l=s(9509);let i={apiKey:l.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyBuazs1eTTu92mY828B0tx1k8-6FQ2-11c",authDomain:l.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"laundry-3024d.firebaseapp.com",projectId:l.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"laundry-3024d",storageBucket:l.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"laundry-3024d.firebasestorage.app",messagingSenderId:l.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"57247892501",appId:l.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:57247892501:web:f8967e02ea63f106d5fa1c"},r=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)(i),d=(0,n.aU)(r)},6537:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>sy});var t=s(5155),n=s(2115),l=s(5695),i=s(168),r=s(4795),d=s(6931),c=s(4063),o=s(8271),m=s(5873),u=s(6936),x=s(8027),h=s(794),p=s(7223),f=s(8718),g=s(3349),j=s(6215),v=s(3158),b=s(518),N=s(154),w=s(9434);let y=j.bL,C=j.l9;j.YJ;let k=j.ZL,E=j.Pb;j.z6;let A=n.forwardRef((e,a)=>{let{className:s,inset:n,children:l,...i}=e;return(0,t.jsxs)(j.ZP,{ref:a,className:(0,w.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...i,children:[l,(0,t.jsx)(v.A,{className:"ml-auto"})]})});A.displayName=j.ZP.displayName;let S=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(j.G5,{ref:a,className:(0,w.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});S.displayName=j.G5.displayName;let D=n.forwardRef((e,a)=>{let{className:s,sideOffset:n=4,...l}=e;return(0,t.jsx)(j.ZL,{children:(0,t.jsx)(j.UC,{ref:a,sideOffset:n,className:(0,w.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});D.displayName=j.UC.displayName;let T=n.forwardRef((e,a)=>{let{className:s,inset:n,...l}=e;return(0,t.jsx)(j.q7,{ref:a,className:(0,w.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...l})});T.displayName=j.q7.displayName,n.forwardRef((e,a)=>{let{className:s,children:n,checked:l,...i}=e;return(0,t.jsxs)(j.H_,{ref:a,className:(0,w.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(j.VF,{children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})}),n]})}).displayName=j.H_.displayName,n.forwardRef((e,a)=>{let{className:s,children:n,...l}=e;return(0,t.jsxs)(j.hN,{ref:a,className:(0,w.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(j.VF,{children:(0,t.jsx)(N.A,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=j.hN.displayName;let R=n.forwardRef((e,a)=>{let{className:s,inset:n,...l}=e;return(0,t.jsx)(j.JU,{ref:a,className:(0,w.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...l})});R.displayName=j.JU.displayName;let M=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(j.wv,{ref:a,className:(0,w.cn)("-mx-1 my-1 h-px bg-muted",s),...n})});M.displayName=j.wv.displayName;var I=s(2278),U=s(285);let P=I.bL;I.l9;let z=I.ZL,B=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(I.hJ,{className:(0,w.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:a})});B.displayName=I.hJ.displayName;let F=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsxs)(z,{children:[(0,t.jsx)(B,{}),(0,t.jsx)(I.UC,{ref:a,className:(0,w.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n})]})});F.displayName=I.UC.displayName;let L=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,w.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};L.displayName="AlertDialogHeader";let _=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,w.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};_.displayName="AlertDialogFooter";let O=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(I.hE,{ref:a,className:(0,w.cn)("text-lg font-semibold",s),...n})});O.displayName=I.hE.displayName;let J=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(I.VY,{ref:a,className:(0,w.cn)("text-sm text-muted-foreground",s),...n})});J.displayName=I.VY.displayName;let W=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(I.rc,{ref:a,className:(0,w.cn)((0,U.r)(),s),...n})});W.displayName=I.rc.displayName;let Z=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(I.ZD,{ref:a,className:(0,w.cn)((0,U.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...n})});Z.displayName=I.ZD.displayName;var $=s(5977);let H=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)($.bL,{ref:a,className:(0,w.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...n})});H.displayName=$.bL.displayName;let Y=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)($._V,{ref:a,className:(0,w.cn)("aspect-square h-full w-full",s),...n})});Y.displayName=$._V.displayName;let V=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)($.H4,{ref:a,className:(0,w.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...n})});V.displayName=$.H4.displayName;var G=s(2177),q=s(221),X=s(5594),K=s(5821),Q=s(5318);let ee=K.bL,ea=K.l9,es=K.ZL;K.bm;let et=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.hJ,{ref:a,className:(0,w.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});et.displayName=K.hJ.displayName;let en=n.forwardRef((e,a)=>{let{className:s,children:n,...l}=e;return(0,t.jsxs)(es,{children:[(0,t.jsx)(et,{}),(0,t.jsxs)(K.UC,{ref:a,className:(0,w.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[n,(0,t.jsxs)(K.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(Q.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});en.displayName=K.UC.displayName;let el=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,w.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};el.displayName="DialogHeader";let ei=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,w.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};ei.displayName="DialogFooter";let er=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.hE,{ref:a,className:(0,w.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});er.displayName=K.hE.displayName;let ed=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.VY,{ref:a,className:(0,w.cn)("text-sm text-muted-foreground",s),...n})});ed.displayName=K.VY.displayName;var ec=s(4253),eo=s(5057);let em=G.Op,eu=n.createContext({}),ex=e=>{let{...a}=e;return(0,t.jsx)(eu.Provider,{value:{name:a.name},children:(0,t.jsx)(G.xI,{...a})})},eh=()=>{let e=n.useContext(eu),a=n.useContext(ep),{getFieldState:s,formState:t}=(0,G.xW)(),l=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=a;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},ep=n.createContext({}),ef=n.forwardRef((e,a)=>{let{className:s,...l}=e,i=n.useId();return(0,t.jsx)(ep.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:a,className:(0,w.cn)("space-y-2",s),...l})})});ef.displayName="FormItem";let eg=n.forwardRef((e,a)=>{let{className:s,...n}=e,{error:l,formItemId:i}=eh();return(0,t.jsx)(eo.J,{ref:a,className:(0,w.cn)(l&&"text-destructive",s),htmlFor:i,...n})});eg.displayName="FormLabel";let ej=n.forwardRef((e,a)=>{let{...s}=e,{error:n,formItemId:l,formDescriptionId:i,formMessageId:r}=eh();return(0,t.jsx)(ec.DX,{ref:a,id:l,"aria-describedby":n?"".concat(i," ").concat(r):"".concat(i),"aria-invalid":!!n,...s})});ej.displayName="FormControl",n.forwardRef((e,a)=>{let{className:s,...n}=e,{formDescriptionId:l}=eh();return(0,t.jsx)("p",{ref:a,id:l,className:(0,w.cn)("text-sm text-muted-foreground",s),...n})}).displayName="FormDescription";let ev=n.forwardRef((e,a)=>{var s;let{className:n,children:l,...i}=e,{error:r,formMessageId:d}=eh(),c=r?String(null!=(s=null==r?void 0:r.message)?s:""):l;return c?(0,t.jsx)("p",{ref:a,id:d,className:(0,w.cn)("text-sm font-medium text-destructive",n),...i,children:c}):null});ev.displayName="FormMessage";let eb=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("textarea",{className:(0,w.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});eb.displayName="Textarea";var eN=s(7481);let ew=X.z.object({feedback:X.z.string().min(10,{message:"Feedback must be at least 10 characters."})});function ey(e){let{open:a,onOpenChange:s}=e,{toast:l}=(0,eN.dj)(),[i,r]=(0,n.useState)(!1),d=(0,G.mN)({resolver:(0,q.u)(ew),defaultValues:{feedback:""}});async function c(e){r(!0);try{if((await fetch("https://formsubmit.co/YOUR_EMAIL_HERE",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({feedback:e.feedback})})).ok)l({title:"Feedback Sent!",description:"Thank you for your feedback."}),s(!1),d.reset();else throw Error("Feedback submission failed")}catch(e){l({title:"Error",description:"Could not send feedback. Please try again later.",variant:"destructive"})}finally{r(!1)}}return(0,t.jsx)(ee,{open:a,onOpenChange:s,children:(0,t.jsx)(en,{className:"sm:max-w-[425px]",children:(0,t.jsx)(em,{...d,children:(0,t.jsxs)("form",{onSubmit:d.handleSubmit(c),className:"space-y-8",children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(er,{children:"Submit Feedback"}),(0,t.jsx)(ed,{children:"We'd love to hear your thoughts. What can we improve?"})]}),(0,t.jsx)(ex,{control:d.control,name:"feedback",render:e=>{let{field:a}=e;return(0,t.jsxs)(ef,{children:[(0,t.jsx)(eg,{children:"Your Feedback"}),(0,t.jsx)(ej,{children:(0,t.jsx)(eb,{placeholder:"Tell us what you think...",className:"resize-none",rows:5,...a})}),(0,t.jsx)(ev,{})]})}}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>s(!1),type:"button",children:"Cancel"}),(0,t.jsx)(U.$,{type:"submit",disabled:i,children:i?"Sending...":"Send Feedback"})]})]})})})})}var eC=s(4884);let ek=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(eC.bL,{className:(0,w.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:a,children:(0,t.jsx)(eC.zi,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});ek.displayName=eC.bL.displayName;var eE=s(7489);let eA=n.forwardRef((e,a)=>{let{className:s,orientation:n="horizontal",decorative:l=!0,...i}=e;return(0,t.jsx)(eE.b,{ref:a,decorative:l,orientation:n,className:(0,w.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",s),...i})});eA.displayName=eE.b.displayName;let eS=[{id:"bldg-58",name:"Building 58",machines:[{id:"w1-58",name:"Washer 1",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w2-58",name:"Washer 2",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w3-58",name:"Washer 3",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"d1-58",name:"Dryer 1",type:"dryer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]}]},{id:"bldg-60",name:"Building 60",machines:[{id:"w1-60",name:"Washer 1",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w2-60",name:"Washer 2",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"d1-60",name:"Dryer 1",type:"dryer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]}]},{id:"bldg-62",name:"Building 62",machines:[{id:"w1-62",name:"Washer 1",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w2-62",name:"Washer 2",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w3-62",name:"Washer 3",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"d1-62",name:"Dryer 1",type:"dryer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]}]},{id:"bldg-64",name:"Building 64",machines:[{id:"w1-64",name:"Washer 1",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w2-64",name:"Washer 2",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"w3-64",name:"Washer 3",type:"washer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]},{id:"d1-64",name:"Dryer 1",type:"dryer",status:"available",timerEnd:null,apartmentUser:null,reports:[],warnings:[]}]}];var eD=s(7250),eT=s(9556);let eR=eD.bL,eM=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(eD.q7,{ref:a,className:(0,w.cn)("border-b",s),...n})});eM.displayName="AccordionItem";let eI=n.forwardRef((e,a)=>{let{className:s,children:n,...l}=e;return(0,t.jsx)(eD.Y9,{className:"flex",children:(0,t.jsxs)(eD.l9,{ref:a,className:(0,w.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...l,children:[n,(0,t.jsx)(eT.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});eI.displayName=eD.l9.displayName;let eU=n.forwardRef((e,a)=>{let{className:s,children:n,...l}=e;return(0,t.jsx)(eD.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,t.jsx)("div",{className:(0,w.cn)("pb-4 pt-0",s),children:n})})});eU.displayName=eD.UC.displayName;let eP=[{id:"fitness",name:"Fitness Room"},{id:"tea",name:"Tea Room"},{id:"cafeteria",name:"Tabu Cafeteria"},{id:"bar",name:"Tabu Bar"}];function ez(e){let{open:a,onOpenChange:s}=e,{toast:l}=(0,eN.dj)(),[i,r]=(0,n.useState)({"bldg-58":!1,"bldg-60":!0,"bldg-62":!1,"bldg-64":!1}),[d,c]=(0,n.useState)(!0),[o,m]=(0,n.useState)({fitness:{opening:!0,events:!1},tea:{opening:!1,events:!0},cafeteria:{opening:!0,events:!0},bar:{opening:!1,events:!1}}),[u,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{x(Object.values(i).every(e=>e)&&d)},[i,d]),(0,n.useEffect)(()=>{p(Object.values(o).flatMap(e=>[e.opening,e.events]).every(e=>e))},[o]);let f=e=>{r(a=>({...a,[e]:!a[e]}))},g=(e,a)=>{m(s=>({...s,[e]:{...s[e],[a]:!s[e][a]}}))};return(0,t.jsx)(ee,{open:a,onOpenChange:s,children:(0,t.jsxs)(en,{className:"sm:max-w-md",children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(er,{children:"Notification Settings"}),(0,t.jsx)(ed,{children:"Manage your notification preferences here. Changes will be saved for this device."})]}),(0,t.jsxs)(eR,{type:"multiple",className:"w-full",children:[(0,t.jsxs)(eM,{value:"laundry",children:[(0,t.jsx)(eI,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full pr-1",children:[(0,t.jsx)("span",{className:"text-lg font-medium",children:"Laundry"}),(0,t.jsx)(ek,{id:"all-laundry",checked:u,onCheckedChange:e=>{c(e);let a={};eS.forEach(s=>a[s.id]=e),r(a)},onClick:e=>e.stopPropagation()})]})}),(0,t.jsx)(eU,{children:(0,t.jsxs)("div",{className:"space-y-4 pt-2 pl-4 border-l-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eo.J,{htmlFor:"notif-cycle-end",className:"flex-1",children:"Notify 5 mins before my cycle ends"}),(0,t.jsx)(ek,{id:"notif-cycle-end",checked:d,onCheckedChange:c})]}),(0,t.jsx)(eA,{}),eS.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(eo.J,{htmlFor:"notif-".concat(e.id),className:"flex-1",children:["Notify when machine is available in ",e.name]}),(0,t.jsx)(ek,{id:"notif-".concat(e.id),checked:i[e.id]||!1,onCheckedChange:()=>f(e.id)})]},e.id))]})})]}),(0,t.jsxs)(eM,{value:"tabu2",children:[(0,t.jsx)(eI,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full pr-1",children:[(0,t.jsx)("span",{className:"text-lg font-medium",children:"TABU 2"}),(0,t.jsx)(ek,{id:"all-tabu",checked:h,onCheckedChange:e=>{let a={};eP.forEach(s=>{a[s.id]={opening:e,events:e}}),m(a)},onClick:e=>e.stopPropagation()})]})}),(0,t.jsx)(eU,{children:(0,t.jsx)(eR,{type:"multiple",className:"w-full pl-4 border-l-2",children:eP.map(e=>{var a,s;return(0,t.jsxs)(eM,{value:e.id,children:[(0,t.jsx)(eI,{children:(0,t.jsx)(eo.J,{className:"font-semibold",children:e.name})}),(0,t.jsx)(eU,{children:(0,t.jsxs)("div",{className:"pl-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eo.J,{htmlFor:"notif-".concat(e.id,"-opening"),className:"font-normal text-muted-foreground",children:"Opening notification"}),(0,t.jsx)(ek,{id:"notif-".concat(e.id,"-opening"),checked:(null==(a=o[e.id])?void 0:a.opening)||!1,onCheckedChange:()=>g(e.id,"opening")})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eo.J,{htmlFor:"notif-".concat(e.id,"-events"),className:"font-normal text-muted-foreground",children:"Events notification"}),(0,t.jsx)(ek,{id:"notif-".concat(e.id,"-events"),checked:(null==(s=o[e.id])?void 0:s.events)||!1,onCheckedChange:()=>g(e.id,"events")})]})]})})]},e.id)})})})]})]}),(0,t.jsxs)(ei,{className:"sm:justify-end pt-4",children:[(0,t.jsx)(U.$,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),(0,t.jsx)(U.$,{type:"button",onClick:()=>{console.log("Saving notification settings:",{cycleEndNotif:d,laundryNotifs:i,tabuNotifs:o}),l({title:"Settings Saved",description:"Your notification preferences have been updated."}),s(!1)},children:"Save Changes"})]})]})})}var eB=s(2085),eF=s(8341),eL=s(2523);let e_=K.bL;K.l9,K.bm;let eO=K.ZL,eJ=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.hJ,{className:(0,w.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:a})});eJ.displayName=K.hJ.displayName;let eW=(0,eB.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),eZ=n.forwardRef((e,a)=>{let{side:s="right",className:n,children:l,...i}=e;return(0,t.jsxs)(eO,{children:[(0,t.jsx)(eJ,{}),(0,t.jsxs)(K.UC,{ref:a,className:(0,w.cn)(eW({side:s}),n),...i,children:[l,(0,t.jsxs)(K.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(Q.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function e$(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,w.cn)("animate-pulse rounded-md bg-muted",a),...s})}eZ.displayName=K.UC.displayName,n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.hE,{ref:a,className:(0,w.cn)("text-lg font-semibold text-foreground",s),...n})}).displayName=K.hE.displayName,n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(K.VY,{ref:a,className:(0,w.cn)("text-sm text-muted-foreground",s),...n})}).displayName=K.VY.displayName;var eH=s(8082);let eY=eH.Kq,eV=eH.bL,eG=eH.l9,eq=n.forwardRef((e,a)=>{let{className:s,sideOffset:n=4,...l}=e;return(0,t.jsx)(eH.UC,{ref:a,sideOffset:n,className:(0,w.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})});eq.displayName=eH.UC.displayName;let eX=n.createContext(null);function eK(){let e=n.useContext(eX);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let eQ=n.forwardRef((e,a)=>{let{defaultOpen:s=!0,open:l,onOpenChange:i,className:r,style:d,children:c,...o}=e,m=function(){let[e,a]=n.useState(void 0);return n.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{a(window.innerWidth<768)};return e.addEventListener("change",s),a(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[u,x]=n.useState(!1),[h,p]=n.useState(s),f=null!=l?l:h,g=n.useCallback(e=>{let a="function"==typeof e?e(f):e;i?i(a):p(a),document.cookie="".concat("sidebar_state","=").concat(a,"; path=/; max-age=").concat(604800)},[i,f]),j=n.useCallback(()=>m?x(e=>!e):g(e=>!e),[m,g,x]);n.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),j())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[j]);let v=f?"expanded":"collapsed",b=n.useMemo(()=>({state:v,open:f,setOpen:g,isMobile:m,openMobile:u,setOpenMobile:x,toggleSidebar:j}),[v,f,g,m,u,x,j]);return(0,t.jsx)(eX.Provider,{value:b,children:(0,t.jsx)(eY,{delayDuration:0,children:(0,t.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...d},className:(0,w.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:c})})})});eQ.displayName="SidebarProvider";let e0=n.forwardRef((e,a)=>{let{side:s="left",variant:n="sidebar",collapsible:l="offcanvas",className:i,children:r,...d}=e,{isMobile:c,state:o,openMobile:m,setOpenMobile:u}=eK();return"none"===l?(0,t.jsx)("div",{className:(0,w.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:a,...d,children:r}):c?(0,t.jsx)(e_,{open:m,onOpenChange:u,...d,children:(0,t.jsx)(eZ,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:s,children:(0,t.jsx)("div",{className:"flex h-full w-full flex-col",children:r})})}):(0,t.jsxs)("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":o,"data-collapsible":"collapsed"===o?l:"","data-variant":n,"data-side":s,children:[(0,t.jsx)("div",{className:(0,w.cn)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===n||"inset"===n?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,t.jsx)("div",{className:(0,w.cn)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===s?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===n||"inset"===n?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...d,children:(0,t.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});e0.displayName="Sidebar";let e2=n.forwardRef((e,a)=>{let{className:s,onClick:n,...l}=e,{toggleSidebar:i}=eK();return(0,t.jsxs)(U.$,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,w.cn)("h-7 w-7",s),onClick:e=>{null==n||n(e),i()},...l,children:[(0,t.jsx)(eF.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});e2.displayName="SidebarTrigger",n.forwardRef((e,a)=>{let{className:s,...n}=e,{toggleSidebar:l}=eK();return(0,t.jsx)("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:l,title:"Toggle Sidebar",className:(0,w.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...n})}).displayName="SidebarRail";let e1=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("main",{ref:a,className:(0,w.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...n})});e1.displayName="SidebarInset",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(eL.p,{ref:a,"data-sidebar":"input",className:(0,w.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...n})}).displayName="SidebarInput";let e4=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"header",className:(0,w.cn)("flex flex-col gap-2 p-2",s),...n})});e4.displayName="SidebarHeader",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"footer",className:(0,w.cn)("flex flex-col gap-2 p-2",s),...n})}).displayName="SidebarFooter",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(eA,{ref:a,"data-sidebar":"separator",className:(0,w.cn)("mx-2 w-auto bg-sidebar-border",s),...n})}).displayName="SidebarSeparator";let e5=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"content",className:(0,w.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...n})});e5.displayName="SidebarContent";let e3=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"group",className:(0,w.cn)("relative flex w-full min-w-0 flex-col p-2",s),...n})});e3.displayName="SidebarGroup";let e8=n.forwardRef((e,a)=>{let{className:s,asChild:n=!1,...l}=e,i=n?ec.DX:"div";return(0,t.jsx)(i,{ref:a,"data-sidebar":"group-label",className:(0,w.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...l})});e8.displayName="SidebarGroupLabel",n.forwardRef((e,a)=>{let{className:s,asChild:n=!1,...l}=e,i=n?ec.DX:"button";return(0,t.jsx)(i,{ref:a,"data-sidebar":"group-action",className:(0,w.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...l})}).displayName="SidebarGroupAction",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"group-content",className:(0,w.cn)("w-full text-sm",s),...n})}).displayName="SidebarGroupContent";let e6=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("ul",{ref:a,"data-sidebar":"menu",className:(0,w.cn)("flex w-full min-w-0 flex-col gap-1",s),...n})});e6.displayName="SidebarMenu";let e9=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("li",{ref:a,"data-sidebar":"menu-item",className:(0,w.cn)("group/menu-item relative",s),...n})});e9.displayName="SidebarMenuItem";let e7=(0,eB.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ae=n.forwardRef((e,a)=>{let{asChild:s=!1,isActive:n=!1,variant:l="default",size:i="default",tooltip:r,className:d,...c}=e,o=s?ec.DX:"button",{isMobile:m,state:u}=eK(),x=(0,t.jsx)(o,{ref:a,"data-sidebar":"menu-button","data-size":i,"data-active":n,className:(0,w.cn)(e7({variant:l,size:i}),d),...c});return r?("string"==typeof r&&(r={children:r}),(0,t.jsxs)(eV,{children:[(0,t.jsx)(eG,{asChild:!0,children:x}),(0,t.jsx)(eq,{side:"right",align:"center",hidden:"collapsed"!==u||m,...r})]})):x});ae.displayName="SidebarMenuButton",n.forwardRef((e,a)=>{let{className:s,asChild:n=!1,showOnHover:l=!1,...i}=e,r=n?ec.DX:"button";return(0,t.jsx)(r,{ref:a,"data-sidebar":"menu-action",className:(0,w.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",l&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...i})}).displayName="SidebarMenuAction",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,"data-sidebar":"menu-badge",className:(0,w.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...n})}).displayName="SidebarMenuBadge",n.forwardRef((e,a)=>{let{className:s,showIcon:l=!1,...i}=e,r=n.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,t.jsxs)("div",{ref:a,"data-sidebar":"menu-skeleton",className:(0,w.cn)("rounded-md h-8 flex gap-2 px-2 items-center",s),...i,children:[l&&(0,t.jsx)(e$,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,t.jsx)(e$,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})}).displayName="SidebarMenuSkeleton",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("ul",{ref:a,"data-sidebar":"menu-sub",className:(0,w.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...n})}).displayName="SidebarMenuSub",n.forwardRef((e,a)=>{let{...s}=e;return(0,t.jsx)("li",{ref:a,...s})}).displayName="SidebarMenuSubItem",n.forwardRef((e,a)=>{let{asChild:s=!1,size:n="md",isActive:l,className:i,...r}=e,d=s?ec.DX:"a";return(0,t.jsx)(d,{ref:a,"data-sidebar":"menu-sub-button","data-size":n,"data-active":l,className:(0,w.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===n&&"text-xs","md"===n&&"text-sm","group-data-[collapsible=icon]:hidden",i),...r})}).displayName="SidebarMenuSubButton";var aa=s(1362);function as(){let{theme:e,setTheme:a}=(0,aa.D)();return(0,t.jsxs)(U.$,{variant:"outline",size:"icon",onClick:()=>a("dark"===e?"light":"dark"),children:[(0,t.jsx)(u.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,t.jsx)(x.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}var at=s(6104),an=s(5317),al=s(5863);let ai=n.forwardRef((e,a)=>{let{className:s,value:n,...l}=e;return(0,t.jsx)(al.bL,{ref:a,className:(0,w.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,t.jsx)(al.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});ai.displayName=al.bL.displayName;var ar=s(6267),ad=s(1047);let ac={rE:"1.0.9"};async function ao(){let e=ac.rE;if(!ar.Ii.isNativePlatform())return console.log("Not a native platform, skipping update check."),{isUpdateAvailable:!1,currentVersion:e,latestVersion:null,downloadUrl:null};try{var a;let s=await fetch("https://api.github.com/repos/".concat("Arnold-Dsouza/TABU","/releases/latest"),{cache:"no-store"});if(!s.ok)throw Error("Could not fetch releases from GitHub. Status: ".concat(s.statusText));let t=await s.json();if(t.draft)return console.log("Latest release is a draft, skipping update."),{isUpdateAvailable:!1,currentVersion:e,latestVersion:null,downloadUrl:null};let n=t.tag_name.replace("v","");if(!n)throw Error("Could not parse latest version from the release tag.");let l=null==(a=t.assets)?void 0:a.find(e=>e.name.endsWith(".apk"));if(!l)throw Error("The latest release does not contain a downloadable APK file.");let i=n>e;return{isUpdateAvailable:i,currentVersion:e,latestVersion:n,downloadUrl:i?l.browser_download_url:null}}catch(e){throw console.error("Error checking for updates:",e),e}}function am(e){let a=document.getElementById("download-notification");a&&a.remove();let s=document.createElement("div");s.id="download-notification",s.className="fixed top-4 right-4 bg-primary text-primary-foreground p-4 rounded-lg shadow-lg z-[9998] max-w-sm",s.innerHTML='\n    <div class="flex items-center space-x-3">\n      <div class="flex-shrink-0">\n        <svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>\n        </svg>\n      </div>\n      <div class="flex-1">\n        <p class="text-sm font-medium">Downloading Update...</p>\n        <div class="w-full bg-primary-foreground/20 rounded-full h-2 mt-1">\n          <div class="bg-primary-foreground h-2 rounded-full transition-all duration-300" style="width: '.concat(e,'%"></div>\n        </div>\n        <p class="text-xs mt-1 opacity-90">').concat(e,"% complete</p>\n      </div>\n    </div>\n  "),document.body.appendChild(s),e>=100&&setTimeout(()=>{document.getElementById("download-notification")&&s.remove()},2e3)}async function au(e,a){if(!ar.Ii.isNativePlatform())return void console.error("Cannot download update on a non-native platform.");let s="TABU-v".concat(ac.rE,"-update.apk");try{am(0),a(10);let t=await ad.YA.downloadFile({path:s,url:e,directory:ad.__.Documents});if(am(90),a(90),!t.path)throw Error("File download failed, path is missing.");let n=await ad.YA.getUri({directory:ad.__.Documents,path:s});am(100),a(100),console.log("Update downloaded to:",t.path),console.log("File URI:",n.uri),setTimeout(async()=>{let e=await ax(s,n.uri);"install"===e?await ah(n.uri):"locate"===e?await af(s):"share"===e&&await ap(n.uri,s),"later"===e&&ag(s)},1500)}catch(a){let e=document.getElementById("download-notification");throw e&&e.remove(),console.error("Error downloading update:",a),a}}async function ax(e,a){return new Promise(a=>{let s=document.createElement("div");s.className="fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",s.innerHTML='\n      <div class="bg-background border rounded-lg p-6 max-w-sm w-full space-y-4">\n        <div class="text-center">\n          <div class="w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-3">\n            <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\n            </svg>\n          </div>\n          <h3 class="text-lg font-semibold mb-2">Update Downloaded!</h3>\n          <p class="text-sm text-muted-foreground mb-4">\n            The update has been saved to your Documents folder as:<br>\n            <span class="font-mono text-xs">'.concat(e,'</span>\n          </p>\n        </div>\n        \n        <div class="space-y-2">\n          <button id="install-btn" class="w-full bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n            \uD83D\uDCF1 Install Now\n          </button>\n          <button id="locate-btn" class="w-full bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n            \uD83D\uDCC2 Open File Manager\n          </button>\n          <button id="share-btn" class="w-full bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n            \uD83D\uDCE4 Share File\n          </button>\n          <button id="later-btn" class="w-full bg-muted text-muted-foreground hover:bg-muted/80 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n            ⏰ Install Later\n          </button>\n        </div>\n        \n        <div class="text-xs text-muted-foreground text-center">\n          \uD83D\uDCA1 You may need to enable "Install from unknown sources" in your device settings\n        </div>\n      </div>\n    '),document.body.appendChild(s);let t=s.querySelector("#install-btn"),n=s.querySelector("#locate-btn"),l=s.querySelector("#later-btn"),i=()=>{document.body.removeChild(s)};null==t||t.addEventListener("click",()=>{i(),a("install")}),null==n||n.addEventListener("click",()=>{i(),a("locate")}),null==l||l.addEventListener("click",()=>{i(),a("later")}),setTimeout(()=>{document.body.contains(s)&&(i(),a("later"))},3e4)})}async function ah(e){try{if(e.startsWith("file://")||e.includes("content://"))return void window.open(e,"_system");if("android"===ar.Ii.getPlatform()){let a=e.replace(/^capacitor:\/\//,"file://");window.open(a,"_system");return}window.open(e,"_blank")}catch(e){console.error("Could not open file for installation:",e),alert('\n\uD83D\uDCF1 Multiple Installation Options:\n\n\uD83D\uDD25 METHOD 1 - Direct Install:\n1. Open your "Files" or "My Files" app\n2. Go to Documents folder\n3. Look for "TABU-v...update.apk"\n4. Tap the file to install\n\n\uD83D\uDCC2 METHOD 2 - Downloads Folder:\n1. Open "Downloads" app\n2. Look for the TABU APK file\n3. Tap to install\n\n⚙️ METHOD 3 - Settings:\n1. Go to Settings > Apps & notifications\n2. Tap "Install unknown apps" \n3. Enable for your file manager\n4. Then try installing the APK\n\n\uD83D\uDD0D METHOD 4 - Search:\n1. Use your device\'s search function\n2. Search for "TABU" or ".apk"\n3. Find and tap the update file\n\n\uD83D\uDCA1 IMPORTANT: \n- Enable "Install from unknown sources" in Android settings\n- The file is named: TABU-v'.concat(ac.rE,"-update.apk\n- File location: Documents folder\n\n❓ Still having trouble? Try restarting your device and looking in Downloads folder.\n  "))}}async function ap(e,a){try{if(navigator.share)return void await navigator.share({title:"TABU App Update",text:"Install the latest TABU app update: ".concat(a),url:e});let s="\n\uD83D\uDCF1 TABU App Update Ready!\n\nFile: ".concat(a,'\nLocation: Documents folder\n\nTo install:\n1. Open Files app\n2. Go to Documents folder  \n3. Tap "').concat(a,'"\n4. Enable "Install from unknown sources" if prompted\n5. Install the update\n\n\uD83D\uDCC2 File saved in Documents folder on this device.\n    ').trim();if(navigator.clipboard){await navigator.clipboard.writeText(s),alert("\uD83D\uDCCB Installation instructions copied to clipboard!\n\nYou can now paste and share these instructions with others.");return}alert(s+"\n\n\uD83D\uDCA1 You can copy this text to share with others.")}catch(e){console.error("Could not share file:",e),alert("\uD83D\uDCE4 Share the update file:\n\nFile location: Documents folder\nFile name: ".concat(a,"\n\n\uD83D\uDCA1 You can manually send this file to others via file manager or messaging apps."))}}async function af(e){alert("\n\uD83D\uDCC2 The update file has been saved to:\n\n\uD83D\uDCF1 Location: Documents folder\n\uD83D\uDCC4 File name: ".concat(e,'\n\nTo install:\n1. Open your device\'s "Files" or "My Files" app\n2. Navigate to Documents folder\n3. Tap on "').concat(e,'"\n4. Follow the installation prompts\n\n\uD83D\uDCA1 Make sure "Install from unknown sources" is enabled in your Android settings.\n  ')),ag(e)}function ag(e){let a=document.getElementById("update-ready-badge");a&&a.remove();let s=document.createElement("div");s.id="update-ready-badge",s.className="fixed bottom-4 right-4 bg-green-600 text-white p-3 rounded-full shadow-lg z-[9999] cursor-pointer hover:bg-green-700 transition-colors",s.innerHTML='\n    <div class="flex items-center space-x-2">\n      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path>\n      </svg>\n      <span class="text-xs font-medium hidden sm:block">Update Ready</span>\n    </div>\n  ',s.onclick=()=>{alert('\n\uD83D\uDCF1 Installation Instructions:\n\n1. Go to your device\'s "Files" or "Downloads" app\n2. Look for the TABU update file (ends with .apk)\n3. Tap on the file to install\n4. If prompted, enable "Install from unknown sources"\n5. Follow the installation wizard\n\n\uD83D\uDCC2 The file is saved in your Documents folder.\n\n\uD83D\uDCA1 If you can\'t find the file, try looking in Downloads or use your file manager\'s search function.\n  ')},document.body.appendChild(s),setTimeout(()=>{s&&document.body.contains(s)&&(s.style.opacity="0.7",s.style.transform="scale(0.8)")},12e4)}var aj=s(7554);function av(e){let{open:a,onOpenChange:s,initialUpdateInfo:l=null}=e,[i,r]=(0,n.useState)(l),[d,c]=(0,n.useState)("idle"),[o,m]=(0,n.useState)(0),[u,x]=(0,n.useState)("Could not check for updates. Please try again later."),{toast:h}=(0,eN.dj)();(0,n.useEffect)(()=>{a?(null==l?void 0:l.isUpdateAvailable)?(r(l),c("available")):p():(c("idle"),r(null),m(0),x("Could not check for updates. Please try again later."))},[a,l]);let p=async()=>{c("checking");try{let e=await ao();r(e),c(e.isUpdateAvailable?"available":"not-available")}catch(a){let e=a instanceof Error?a.message:String(a);console.error("Update check failed:",e),x(e),c("error"),h({title:"Error",description:e,variant:"destructive"})}},g=async()=>{if(null==i?void 0:i.downloadUrl){c("downloading"),m(0);try{await au(i.downloadUrl,e=>{m(e)}),h({title:"Download Complete",description:"The update is ready. Please confirm to install."}),s(!1)}catch(e){console.error("Download failed:",e),x(e instanceof Error?e.message:String(e)),c("error"),h({title:"Download Failed",description:"The update could not be downloaded. Please try again.",variant:"destructive"})}}};return(0,t.jsx)(ee,{open:a,onOpenChange:s,children:(0,t.jsx)(en,{children:(()=>{switch(d){case"checking":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Checking for Updates"})}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:[(0,t.jsx)(aj.A,{className:"h-10 w-10 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Searching for the latest version..."})]})]});case"available":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(er,{children:"Update Available"}),(0,t.jsxs)(ed,{children:["A new version (",null==i?void 0:i.latestVersion,") is available! You are currently on version ",null==i?void 0:i.currentVersion,"."]})]}),(0,t.jsx)(ei,{className:"pt-4",children:(0,t.jsxs)(U.$,{onClick:g,children:[(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Update"]})})]});case"not-available":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(er,{children:"No Update Available"}),(0,t.jsxs)(ed,{children:["You are on the latest version (",null==i?void 0:i.currentVersion,")."]})]}),(0,t.jsxs)(ei,{className:"sm:justify-end gap-2 pt-4",children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>s(!1),children:"Close"}),(0,t.jsxs)(U.$,{onClick:p,children:[(0,t.jsx)(aj.A,{className:"h-4 w-4 mr-2"}),"Check Again"]})]})]});case"downloading":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Downloading Update"})}),(0,t.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Downloading update... ",Math.round(o),"%"]}),(0,t.jsx)(ai,{value:o})]})]});case"error":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(er,{className:"text-destructive",children:"Update Error"}),(0,t.jsx)(ed,{children:u})]}),(0,t.jsxs)(ei,{className:"pt-4",children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>s(!1),children:"Close"}),(0,t.jsxs)(U.$,{onClick:p,children:[(0,t.jsx)(aj.A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]});default:return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Initializing..."})})}})()})})}function ab(e){let{currentUser:a,title:s="LaundryView",updateInfo:j}=e,[v,b]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[I,z]=(0,n.useState)(!1),[B,$]=(0,n.useState)(!1),[G,q]=(0,n.useState)(0),X=(0,l.useRouter)(),{toast:K}=(0,eN.dj)(),{setTheme:Q}=(0,aa.D)();(0,n.useEffect)(()=>{(null==j?void 0:j.isUpdateAvailable)&&$(!0)},[j]),(0,n.useEffect)(()=>{let e=(0,an.rJ)(at.db,"users"),a=(0,an.P)(e,(0,an._M)("isLoggedIn","==",!0)),s=(0,an.aQ)(a,e=>{q(e.size)},e=>{console.error("Error fetching online users count:",e)});return()=>s()},[]);let ee=async()=>{if(a){let e=a.replace("Apt ",""),s=(0,an.H9)(at.db,"users","apt-".concat(e));try{await (0,an.mZ)(s,{isLoggedIn:!1})}catch(e){console.error("Error logging out user:",e)}}localStorage.removeItem("laundryUser"),X.push("/login")},ea=async()=>{if(!a)return;let e=a.replace("Apt ",""),s=(0,an.H9)(at.db,"users","apt-".concat(e));try{await (0,an.kd)(s),K({title:"Account Deleted",description:"Your account has been successfully deleted."}),localStorage.removeItem("laundryUser"),X.push("/login")}catch(e){console.error("Error deleting account:",e),K({title:"Error",description:"Could not delete account. Please try again.",variant:"destructive"})}},es="TABU 2"===s?i.A:r.A;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:"sticky top-0 flex h-16 items-center justify-between gap-4 border-b bg-background/95 backdrop-blur px-4 md:px-6 z-50",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(e2,{})}),(0,t.jsx)("div",{className:"flex-1 flex justify-center",children:(0,t.jsxs)("a",{href:"/",className:"flex items-center gap-2 text-lg font-semibold md:text-base",children:[(0,t.jsx)(es,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("span",{className:"font-bold font-headline",children:s}),(null==j?void 0:j.isUpdateAvailable)&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2 ml-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(as,{}),(0,t.jsxs)(y,{children:[(0,t.jsx)(C,{asChild:!0,children:(0,t.jsxs)(U.$,{variant:"secondary",size:"icon",className:"rounded-full",children:[(0,t.jsxs)(H,{children:[(0,t.jsx)(Y,{src:"https://placehold.co/100x100.png",alt:"User","data-ai-hint":"person portrait"}),(0,t.jsx)(V,{children:(e=>{if(!e)return"U";let a=e.split(" ");return a.length>1?a[0].charAt(0)+a[1].charAt(0):e.charAt(0)})(a)})]}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]})}),(0,t.jsxs)(D,{align:"end",children:[(0,t.jsx)(R,{children:a||"Guest"}),(0,t.jsxs)(T,{disabled:!0,className:"focus:bg-transparent text-muted-foreground",children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center h-2 w-2 mr-2",children:[(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),(0,t.jsxs)("span",{children:[G," Online Users"]})]}),(0,t.jsx)(M,{}),(0,t.jsxs)(T,{onSelect:()=>w(!0),children:[(0,t.jsx)(d.A,{className:"mr-2"}),"Notifications"]}),(0,t.jsxs)(T,{onSelect:()=>b(!0),children:[(0,t.jsx)(c.A,{className:"mr-2"}),"Feedback"]}),(0,t.jsxs)(E,{children:[(0,t.jsxs)(A,{children:[(0,t.jsx)(o.A,{className:"mr-2"}),"Settings"]}),(0,t.jsx)(k,{children:(0,t.jsxs)(S,{children:[(0,t.jsxs)(T,{disabled:!0,children:[(0,t.jsx)(m.A,{className:"mr-2"}),"Language"]}),(0,t.jsxs)(E,{children:[(0,t.jsxs)(A,{children:[(0,t.jsx)(u.A,{className:"mr-2"}),"Theme"]}),(0,t.jsx)(k,{children:(0,t.jsxs)(S,{children:[(0,t.jsxs)(T,{onClick:()=>Q("light"),children:[(0,t.jsx)(u.A,{className:"mr-2"}),"Light"]}),(0,t.jsxs)(T,{onClick:()=>Q("dark"),children:[(0,t.jsx)(x.A,{className:"mr-2"}),"Dark"]}),(0,t.jsxs)(T,{onClick:()=>Q("system"),children:[(0,t.jsx)(h.A,{className:"mr-2"}),"System"]})]})})]}),(0,t.jsx)(M,{}),(0,t.jsxs)(T,{onSelect:()=>z(!0),className:"text-destructive focus:bg-destructive/10 focus:text-destructive",children:[(0,t.jsx)(p.A,{className:"mr-2"}),"Delete Account"]})]})})]}),(0,t.jsxs)(T,{onSelect:()=>$(!0),children:[(0,t.jsx)(f.A,{className:"mr-2"}),"Update App",(null==j?void 0:j.isUpdateAvailable)&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2 ml-auto",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]}),(0,t.jsx)(M,{}),(0,t.jsxs)(T,{onClick:ee,children:[(0,t.jsx)(g.A,{className:"mr-2"}),"Logout"]})]})]})]})]}),(0,t.jsx)(ey,{open:v,onOpenChange:b}),(0,t.jsx)(ez,{open:N,onOpenChange:w}),(0,t.jsx)(av,{open:B,onOpenChange:$,initialUpdateInfo:j}),(0,t.jsx)(P,{open:I,onOpenChange:z,children:(0,t.jsxs)(F,{children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(O,{children:"Are you absolutely sure?"}),(0,t.jsx)(J,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),(0,t.jsxs)(_,{children:[(0,t.jsx)(Z,{children:"Cancel"}),(0,t.jsx)(W,{onClick:ea,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})}var aN=s(3640),aw=s(594),ay=s(7300),aC=s(1949),ak=s(3497),aE=s(8376),aA=s(8044),aS=s(9099),aD=s(1721),aT=s(8176);let aR=aT.bL,aM=aT.l9,aI=n.forwardRef((e,a)=>{let{className:s,align:n="center",sideOffset:l=4,...i}=e;return(0,t.jsx)(aT.ZL,{children:(0,t.jsx)(aT.UC,{ref:a,align:n,sideOffset:l,className:(0,w.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});aI.displayName=aT.UC.displayName;var aU=s(704);let aP=aU.bL,az=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(aU.B8,{ref:a,className:(0,w.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});az.displayName=aU.B8.displayName;let aB=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(aU.l9,{ref:a,className:(0,w.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});aB.displayName=aU.l9.displayName;let aF=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(aU.UC,{ref:a,className:(0,w.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});aF.displayName=aU.UC.displayName;var aL=s(4059);let a_=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(aL.bL,{className:(0,w.cn)("grid gap-2",s),...n,ref:a})});a_.displayName=aL.bL.displayName;let aO=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(aL.q7,{ref:a,className:(0,w.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,t.jsx)(aL.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(N.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});aO.displayName=aL.q7.displayName;var aJ=s(9051);let aW=n.forwardRef((e,a)=>{let{className:s,children:n,...l}=e;return(0,t.jsxs)(aJ.bL,{ref:a,className:(0,w.cn)("relative overflow-hidden",s),...l,children:[(0,t.jsx)(aJ.LM,{className:"h-full w-full rounded-[inherit]",children:n}),(0,t.jsx)(aZ,{}),(0,t.jsx)(aJ.OK,{})]})});aW.displayName=aJ.bL.displayName;let aZ=n.forwardRef((e,a)=>{let{className:s,orientation:n="vertical",...l}=e;return(0,t.jsx)(aJ.VM,{ref:a,orientation:n,className:(0,w.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(aJ.lr,{className:"relative flex-1 rounded-full bg-border"})})});function a$(){return(0,t.jsx)("div",{className:"absolute inset-0 z-0 animate-spin-slow overflow-hidden rounded-full",children:(0,t.jsxs)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"waterGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0.6)"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"rgba(96, 165, 250, 0.8)"})]})}),(0,t.jsx)("path",{fill:"url(#waterGradient)",d:"M 0 50 C 20 30, 40 30, 50 50 S 70 70, 90 50 S 100 50, 100 50 L 100 100 L 0 100 Z",children:(0,t.jsx)("animate",{attributeName:"d",dur:"4s",repeatCount:"indefinite",values:"   M 0 50 C 20 30, 40 30, 50 50 S 70 70, 90 50 S 100 50, 100 50 L 100 100 L 0 100 Z;   M 0 50 C 20 70, 40 70, 50 50 S 70 30, 90 50 S 100 50, 100 50 L 100 100 L 0 100 Z;   M 0 50 C 20 30, 40 30, 50 50 S 70 70, 90 50 S 100 50, 100 50 L 100 100 L 0 100 Z;   "})})]})})}aZ.displayName=aJ.VM.displayName;let aH=e=>{if(e<=0)return"00:00:00";let a=Math.floor(e/3600),s=Math.floor(e%3600/60),t=Math.floor(e%60);return"".concat(String(a).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(t).padStart(2,"0"))};function aY(e){var a;let{machine:s,currentUser:l,onStart:i,onFinish:d,onReport:c,onWarning:o,onResolveReport:m,onResolveWarning:u,canStartNewMachine:x}=e,[h,p]=(0,n.useState)(0),[f,g]=(0,n.useState)("0"),[j,v]=(0,n.useState)("45"),[b,N]=(0,n.useState)(!1),[y,C]=(0,n.useState)(!1),[k,E]=(0,n.useState)(""),[A,S]=(0,n.useState)(""),[D,T]=(0,n.useState)(""),{toast:R}=(0,eN.dj)(),M=s.reports.some(e=>e.userId===l),I=s.warnings.some(e=>e.userId===l),P="out-of-order"===s.status,z="in-use"===s.status,B=(0,n.useCallback)(d,[d]);(0,n.useEffect)(()=>{if("in-use"!==s.status||!s.timerEnd)return void p(0);let e=()=>Math.round((s.timerEnd-Date.now())/1e3);p(e());let a=setInterval(()=>{let t=e();t>0?p(t):(p(0),"in-use"===s.status&&B(s.id),clearInterval(a))},1e3);return()=>clearInterval(a)},[s.status,s.timerEnd,s.id,B]);let F=!((a=s.reports).length<5)&&Object.values(a.reduce((e,a)=>(e[a.issue]=(e[a.issue]||0)+1,e),{})).some(e=>e>=5),L="available"===s.status,_="in-use"===s.status&&s.apartmentUser===l,O="washer"===s.type?r.A:aN.A,{border:J,bg:W,icon:Z}=P?{border:"border-red-700",bg:"bg-red-700/10",icon:"text-red-700"}:L?{border:"border-green-500",bg:"bg-green-500/10",icon:"text-green-500"}:{border:"border-orange-500",bg:"bg-orange-500/10",icon:"text-orange-500"};return(0,t.jsxs)("div",{className:(0,w.cn)("relative flex flex-col justify-between w-full mx-auto bg-card rounded-xl shadow-md transition-all hover:shadow-lg p-3 sm:p-4 space-y-3 sm:space-y-4 border"),children:[(0,t.jsx)("div",{className:(0,w.cn)("absolute top-0 left-0 w-full h-2 rounded-t-xl",L?"bg-green-500":P?"bg-red-700":"bg-orange-500")}),(0,t.jsxs)("div",{className:"flex justify-between items-start pt-2",children:[(0,t.jsx)("h3",{className:"font-bold text-lg font-headline",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(aR,{open:y,onOpenChange:C,children:[(0,t.jsx)(aM,{asChild:!0,children:(0,t.jsx)(U.$,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,t.jsx)(aw.A,{className:"h-4 w-4"})})}),(0,t.jsx)(aI,{className:"w-80",children:(0,t.jsxs)(aP,{defaultValue:"info",className:"w-full",children:[(0,t.jsxs)(az,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(aB,{value:"info",children:[(0,t.jsx)(aw.A,{className:"h-4 w-4 mr-2"}),"Info"]}),(0,t.jsxs)(aB,{value:"report",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white",disabled:M||P,children:[(0,t.jsx)(ay.A,{className:"h-4 w-4 mr-2"}),"Report"]}),(0,t.jsxs)(aB,{value:"warning",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",disabled:I||P,children:[(0,t.jsx)(aC.A,{className:"h-4 w-4 mr-2 text-yellow-700 data-[state=active]:text-black"}),"Warning"]})]}),(0,t.jsx)(aF,{value:"info",children:(0,t.jsx)(aW,{className:"h-48 w-full py-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center",children:[(0,t.jsx)(ak.A,{className:"h-4 w-4 mr-2 text-red-500"})," Reports (",s.reports.length,")"]}),s.reports.length>0?(0,t.jsx)("ul",{className:"space-y-2 text-xs text-muted-foreground",children:s.reports.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{children:['"',e.issue,'" by ',e.userId]}),(0,t.jsxs)(U.$,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:()=>m(s.id,e.id),children:[(0,t.jsx)(aE.A,{className:"h-3 w-3 mr-1"})," Solved"]})]},e.id))}):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No reports for this machine."})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center",children:[(0,t.jsx)(aC.A,{className:"h-4 w-4 mr-2 text-yellow-500"})," Warnings (",s.warnings.length,")"]}),s.warnings.length>0?(0,t.jsx)("ul",{className:"space-y-2 text-xs text-muted-foreground",children:s.warnings.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{children:['"',e.message,'" by ',e.userId]}),(0,t.jsxs)(U.$,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:()=>u(s.id,e.id),children:[(0,t.jsx)(aE.A,{className:"h-3 w-3 mr-1"})," Solved"]})]},e.id))}):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No warnings for this machine."})]})]})})}),(0,t.jsx)(aF,{value:"report",children:(0,t.jsxs)("div",{className:"py-4 space-y-4",children:[(0,t.jsx)(eo.J,{children:"Select an issue to report:"}),(0,t.jsxs)(a_,{value:k,onValueChange:E,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"Machine not working",id:"".concat(s.id,"-r1")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-r1"),children:"Machine not working"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"Machine not draining",id:"".concat(s.id,"-r2")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-r2"),children:"Machine not draining"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"Cycle not starting",id:"".concat(s.id,"-r3")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-r3"),children:"Cycle not starting"})]})]}),(0,t.jsx)(U.$,{className:"w-full",onClick:()=>{k&&!M&&(c(s.id,k),R({title:"Report Submitted",description:'Your report for "'.concat(k,'" has been sent.')}),E(""),C(!1))},disabled:!k||M,children:M?"Already Reported":"Submit Report"})]})}),(0,t.jsx)(aF,{value:"warning",children:(0,t.jsxs)("div",{className:"py-4 space-y-4",children:[(0,t.jsx)(eo.J,{children:"Select a warning:"}),(0,t.jsxs)(a_,{value:A,onValueChange:S,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"Machine is smelling",id:"".concat(s.id,"-w1")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-w1"),children:"Machine is smelling"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"Machine not clean",id:"".concat(s.id,"-w2")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-w2"),children:"Machine not clean"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aO,{value:"other",id:"".concat(s.id,"-w3")}),(0,t.jsx)(eo.J,{htmlFor:"".concat(s.id,"-w3"),children:"Other"})]})]}),"other"===A&&(0,t.jsx)(eb,{id:"warning-text-other",placeholder:"Please describe the warning...",value:D,onChange:e=>T(e.target.value)}),(0,t.jsx)(U.$,{className:"w-full",onClick:()=>{let e="other"===A?D:A;e&&!I&&(o(s.id,e),R({title:"Warning Submitted",description:"Your warning has been sent."}),S(""),T(""),C(!1))},disabled:I||!A||"other"===A&&!D,children:I?"Already Warned":"Submit Warning"})]})})]})})]}),(0,t.jsx)(O,{className:(0,w.cn)("h-6 w-6",Z)})]})]}),(0,t.jsxs)("div",{className:(0,w.cn)("relative flex items-center justify-center aspect-square w-full max-w-[150px] sm:max-w-[224px] mx-auto rounded-full border-8 shadow-inner bg-background overflow-hidden",J),children:[z&&(0,t.jsx)(a$,{}),(0,t.jsxs)("div",{className:(0,w.cn)("relative flex items-center justify-center w-[95%] h-[95%] rounded-full backdrop-blur-sm border-4 border-card",W),children:[(F||s.warnings.length>0)&&!P&&(0,t.jsxs)("div",{className:"absolute top-3 sm:top-5 flex items-center gap-2 z-10",children:[F&&(0,t.jsx)(ak.A,{className:"h-5 w-5 text-red-500 animate-blink"}),s.warnings.length>0&&(0,t.jsx)(aC.A,{className:"h-5 w-5 text-yellow-500 animate-blink"})]}),P?(0,t.jsxs)("div",{className:"text-center text-red-700",children:[(0,t.jsx)(aA.A,{className:"h-12 w-12 mx-auto animate-pulse"}),(0,t.jsx)("span",{className:"text-lg font-bold tracking-wider mt-1",children:"Out of Order"})]}):L?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center text-center h-full",children:(0,t.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-green-600 tracking-wider",children:"Available"})}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center text-foreground h-full pt-1",children:[(0,t.jsxs)("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold font-headline tabular-nums flex items-center justify-center gap-1",children:[(0,t.jsx)(aS.A,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6"}),aH(h)]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1.5 mt-2",children:[(0,t.jsx)(aD.A,{className:"h-3 w-3"}),s.apartmentUser]})]})]})]}),_?(0,t.jsx)(U.$,{className:"w-full",variant:"destructive",onClick:()=>{d(s.id)},children:"Stop Cycle"}):(0,t.jsxs)(ee,{open:b,onOpenChange:N,children:[(0,t.jsx)(ea,{asChild:!0,children:(0,t.jsx)(U.$,{className:"w-full",disabled:!L||!x||P,children:P?"Out of Order":"Start Cycle"})}),(0,t.jsxs)(en,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(el,{children:[(0,t.jsxs)(er,{children:["Start ",s.name]}),(0,t.jsx)(ed,{children:"Set the cycle duration. The machine will be marked as in-use."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(eo.J,{htmlFor:"hours",className:"text-right",children:"Hours"}),(0,t.jsx)(eL.p,{id:"hours",type:"number",value:f,onChange:e=>g(e.target.value),className:"w-full",placeholder:"e.g., 1",min:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eo.J,{htmlFor:"minutes",className:"text-right",children:"Minutes"}),(0,t.jsx)(eL.p,{id:"minutes",type:"number",value:j,onChange:e=>v(e.target.value),className:"w-full",placeholder:"e.g., 30",min:"0",max:"59"})]})]})}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,t.jsx)(U.$,{type:"submit",onClick:()=>{let e=60*(parseInt(f,10)||0)+(parseInt(j,10)||0);e>0&&(i(s.id,e),N(!1))},children:"Start"})]})]})]})]})}var aV=s(4555);class aG{async initialize(){if(!this.isInitialized&&ar.Ii.isNativePlatform())try{let e=await aV.W.requestPermissions();"granted"===e.display?(console.log("Notification permissions granted"),this.isInitialized=!0,aV.W.addListener("localNotificationActionPerformed",e=>{console.log("Notification action performed:",e),this.handleNotificationAction(e)}),aV.W.addListener("localNotificationReceived",e=>{console.log("Notification received:",e)})):console.warn("Notification permissions denied")}catch(e){console.error("Error initializing notifications:",e)}}async startLaundryCycle(e,a,s){this.isInitialized||await this.initialize();let t="laundry-".concat(e,"-").concat(a,"-").concat(Date.now()),n=new Date,l=new Date(n.getTime()+60*s*1e3),i={id:t,machineNumber:e,cycleType:a,duration:s,startTime:n,endTime:l};this.timers.set(t,i);try{await this.askUserForNativeTimer(i)&&await this.setNativeAndroidTimer(i)}catch(e){console.log("Native timer not available or declined:",e)}return await this.scheduleCompletionNotification(i),s>10&&await this.scheduleReminderNotification(i),t}async askUserForNativeTimer(e){return new Promise(a=>{if("android"!==ar.Ii.getPlatform())return void a(!1);let s=document.createElement("div");s.className="fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",s.innerHTML='\n        <div class="bg-background border rounded-lg p-6 max-w-sm w-full space-y-4">\n          <div class="text-center">\n            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3">\n              <svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n              </svg>\n            </div>\n            <h3 class="text-lg font-semibold mb-2">Set Timer in Clock App?</h3>\n            <p class="text-sm text-muted-foreground mb-4">\n              Would you like to also set a '.concat(e.duration,'-minute timer in your Android Clock app?\n            </p>\n          </div>\n          \n          <div class="space-y-2">\n            <button id="use-native-btn" class="w-full bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n              ⏰ Yes, Open Clock App\n            </button>\n            <button id="skip-native-btn" class="w-full bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-2 rounded-md text-sm font-medium transition-colors">\n              \uD83D\uDCF1 Just Use App Notifications\n            </button>\n          </div>\n          \n          <div class="text-xs text-muted-foreground text-center">\n            You\'ll still get notifications from TABU when the cycle completes\n          </div>\n        </div>\n      '),document.body.appendChild(s);let t=s.querySelector("#use-native-btn"),n=s.querySelector("#skip-native-btn"),l=()=>{document.body.removeChild(s)};null==t||t.addEventListener("click",()=>{l(),a(!0)}),null==n||n.addEventListener("click",()=>{l(),a(!1)}),setTimeout(()=>{document.body.contains(s)&&(l(),a(!1))},1e4)})}async setNativeAndroidTimer(e){if("android"!==ar.Ii.getPlatform())throw Error("Native timer only available on Android");try{let a="intent://timer/".concat(60*e.duration,"?message=").concat(encodeURIComponent("TABU: Machine ".concat(e.machineNumber," ").concat(e.cycleType," cycle")),"#Intent;scheme=timer;package=com.google.android.deskclock;end");window.open(a,"_system"),console.log("Attempted to set native Android timer for ".concat(e.duration," minutes"))}catch(a){try{let a="intent://timer/".concat(60*e.duration,"#Intent;scheme=timer;package=com.google.android.deskclock;S.android.intent.extra.alarm.MESSAGE=TABU Machine ").concat(e.machineNumber," ").concat(e.cycleType,";end");window.open(a,"_system")}catch(a){try{window.open("timer:".concat(60*e.duration),"_system")}catch(e){throw console.log("Could not open native timer app:",e),e}}}}async scheduleCompletionNotification(e){let a=parseInt(e.id.replace(/\D/g,""))%1e4;try{await aV.W.schedule({notifications:[{title:"".concat("wash"===e.cycleType?"Washing":"Drying"," Complete! \uD83E\uDDFA"),body:"Machine ".concat(e.machineNumber," has finished the ").concat(e.cycleType," cycle. Your laundry is ready!"),id:a,schedule:{at:e.endTime},sound:"default",attachments:void 0,actionTypeId:"LAUNDRY_COMPLETE",extra:{timerId:e.id,machineNumber:e.machineNumber,cycleType:e.cycleType},ongoing:!1,autoCancel:!1,largeIcon:"res://drawable/ic_launcher",smallIcon:"res://drawable/ic_notification"}]}),await this.scheduleOngoingTimerNotification(e),console.log("Scheduled completion notification for timer ".concat(e.id))}catch(e){console.error("Error scheduling completion notification:",e)}}async scheduleOngoingTimerNotification(e){let a=parseInt(e.id.replace(/\D/g,""))%1e4+1e3;try{for(let s of[1,5,10,15,30])if(s<e.duration){let t=new Date(Date.now()+60*s*1e3),n=e.duration-s;await aV.W.schedule({notifications:[{title:"⏱️ Laundry Timer: ".concat(n,"m remaining"),body:"Machine ".concat(e.machineNumber," - ").concat("wash"===e.cycleType?"Washing":"Drying"," cycle"),id:a+s,schedule:{at:t},sound:void 0,attachments:void 0,extra:{timerId:e.id,machineNumber:e.machineNumber,cycleType:e.cycleType,isOngoing:!0,remainingMinutes:n},ongoing:!0,autoCancel:!1}]})}await aV.W.schedule({notifications:[{title:"⏱️ Laundry Timer: ".concat(e.duration,"m"),body:"Machine ".concat(e.machineNumber," - ").concat("wash"===e.cycleType?"Washing":"Drying"," cycle started"),id:a,schedule:{at:new Date(Date.now()+1e3)},sound:void 0,attachments:void 0,extra:{timerId:e.id,machineNumber:e.machineNumber,cycleType:e.cycleType,isOngoing:!0},ongoing:!0,autoCancel:!1}]}),console.log("Scheduled ongoing timer notification for ".concat(e.id))}catch(e){console.error("Error scheduling ongoing notification:",e)}}async scheduleReminderNotification(e){let a=new Date(e.endTime.getTime()-3e5),s=parseInt(e.id.replace(/\D/g,""))%1e4+5e3;try{await aV.W.schedule({notifications:[{title:"".concat("wash"===e.cycleType?"Washing":"Drying"," Almost Done! ⏰"),body:"Machine ".concat(e.machineNumber," will finish in 5 minutes. Get ready to collect your laundry!"),id:s,schedule:{at:a},sound:"default",extra:{timerId:e.id,machineNumber:e.machineNumber,cycleType:e.cycleType,isReminder:!0}}]}),console.log("Scheduled reminder notification for timer ".concat(e.id))}catch(e){console.error("Error scheduling reminder notification:",e)}}async cancelTimer(e){if(this.timers.get(e))try{let a=parseInt(e.replace(/\D/g,""))%1e4,s=a+1e3,t=[{id:a},{id:a+5e3},{id:s}];for(let e of[1,5,10,15,30])t.push({id:s+e});await aV.W.cancel({notifications:t}),this.timers.delete(e),console.log("Cancelled timer ".concat(e," and all related notifications"))}catch(e){console.error("Error cancelling timer:",e)}}async handleNotificationAction(e){var a,s;let{actionId:t,notification:n}=e,l=null==(a=n.extra)?void 0:a.timerId;switch(t){case"mark_collected":l&&(this.cancelTimer(l),null==(s=this.onLaundryCollected)||s.call(this,l));break;case"snooze_5min":l&&await this.scheduleSnoozeNotification(l)}}async scheduleSnoozeNotification(e){let a=this.timers.get(e);if(!a)return;let s=new Date(Date.now()+3e5),t=parseInt(e.replace(/\D/g,""))%1e4+9e3;try{await aV.W.schedule({notifications:[{title:"Don't Forget Your Laundry! \uD83D\uDD14",body:"Machine ".concat(a.machineNumber," finished ").concat(a.cycleType,"ing. Please collect your laundry."),id:t,schedule:{at:s},sound:"default",extra:{timerId:a.id,machineNumber:a.machineNumber,cycleType:a.cycleType,isSnooze:!0}}]})}catch(e){console.error("Error scheduling snooze notification:",e)}}getActiveTimers(){return Array.from(this.timers.values()).filter(e=>e.endTime.getTime()>Date.now())}getRemainingTime(e){let a=this.timers.get(e);return a?Math.max(0,Math.floor((a.endTime.getTime()-Date.now())/1e3/60)):0}async areNotificationsEnabled(){try{let e=await aV.W.checkPermissions();return"granted"===e.display}catch(e){return!1}}async requestNotificationPermissions(){try{let e=await aV.W.requestPermissions();return"granted"===e.display}catch(e){return!1}}constructor(){this.timers=new Map,this.isInitialized=!1}}let aq=new aG;var aX=s(3819),aK=s(5633),aQ=s(6695);function a0(e){let{selectedBuildingId:a,currentUser:s}=e,[l,i]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),{toast:o}=(0,eN.dj)(),{startLaundryCycle:m,cancelTimer:u,isMobile:x,isNotificationsEnabled:h,requestNotificationPermissions:p,activeTimers:f}=function(){let[e,a]=(0,n.useState)([]),[s,t]=(0,n.useState)(!1),[l,i]=(0,n.useState)(!1),{toast:r}=(0,eN.dj)();(0,n.useEffect)(()=>{(async()=>{if(!ar.Ii.isNativePlatform())return console.log("Not on mobile, notifications not available");try{await aq.initialize();let e=await aq.areNotificationsEnabled();t(e),aq.onLaundryCollected=e=>{m(e),r({title:"Laundry Collected! \uD83E\uDDFA",description:"Timer has been marked as complete."})},d()}catch(e){console.error("Error initializing laundry timer service:",e)}})()},[]);let d=(0,n.useCallback)(()=>{a(aq.getActiveTimers())},[]),c=(0,n.useCallback)(async(e,a,t)=>{if(!ar.Ii.isNativePlatform())return r({title:"Notifications Not Available",description:"Timer notifications only work on mobile devices.",variant:"destructive"}),null;if(!s&&!await u())return r({title:"Notifications Required",description:"Please enable notifications to use timer alerts.",variant:"destructive"}),null;i(!0);try{let s=await aq.startLaundryCycle(e,a,t);return d(),r({title:"".concat("wash"===a?"Washing":"Drying"," Timer Started! ⏰"),description:"Machine ".concat(e," - ").concat(t," minutes. You'll get notified when it's done!")}),s}catch(e){return console.error("Error starting laundry cycle:",e),r({title:"Error Starting Timer",description:"Could not start the laundry timer. Please try again.",variant:"destructive"}),null}finally{i(!1)}},[s,d,r]),o=(0,n.useCallback)(async e=>{try{await aq.cancelTimer(e),d(),r({title:"Timer Cancelled",description:"The laundry timer has been stopped."})}catch(e){console.error("Error cancelling timer:",e),r({title:"Error",description:"Could not cancel the timer.",variant:"destructive"})}},[d,r]),m=(0,n.useCallback)(e=>{o(e)},[o]),u=(0,n.useCallback)(async()=>{try{let e=await aq.requestNotificationPermissions();return t(e),e?r({title:"Notifications Enabled! \uD83D\uDD14",description:"You'll now receive alerts when your laundry is done."}):r({title:"Notifications Denied",description:"You can enable them later in your device settings.",variant:"destructive"}),e}catch(e){return console.error("Error requesting permissions:",e),!1}},[r]),x=(0,n.useCallback)(e=>aq.getRemainingTime(e),[]),h=(0,n.useCallback)(e=>{let a=x(e);if(a<=0)return"Finished";let s=Math.floor(a/60),t=a%60;return s>0?"".concat(s,"h ").concat(t,"m"):"".concat(t,"m")},[x]);return{activeTimers:e,isNotificationsEnabled:s,isLoading:l,isMobile:ar.Ii.isNativePlatform(),startLaundryCycle:c,cancelTimer:o,handleTimerComplete:m,requestNotificationPermissions:u,refreshActiveTimers:d,getRemainingTime:x,getFormattedRemainingTime:h}}(),g=(0,n.useCallback)(async()=>{console.log("Checking if machine data needs initialization...");let e=(0,an.rJ)(at.db,"buildings");if((await (0,an.GG)(e)).empty){console.log("No data found. Initializing buildings and machines in Firestore...");let e=(0,an.wP)(at.db);eS.forEach(a=>{let s=(0,an.H9)(at.db,"buildings",a.id),t={...a,machines:a.machines.map(e=>({...e,timerEnd:null}))};e.set(s,t)}),await e.commit(),console.log("Initial data seeded in Firestore.")}else console.log("Machine data already exists in Firestore.")},[]);(0,n.useEffect)(()=>{let e=(async()=>(await g(),(0,an.aQ)((0,an.rJ)(at.db,"buildings"),e=>{i(e.docs.map(e=>{let a=e.data();return{id:e.id,name:a.name,machines:a.machines.map(e=>({...e,timerEnd:e.timerEnd instanceof an.Dc?e.timerEnd.toMillis():e.timerEnd}))}})),c(!1)},e=>{console.error("Error fetching buildings:",e),o({title:"Error",description:"Could not fetch laundry data. Please try again later.",variant:"destructive"}),c(!1)})))();return()=>{e.then(e=>e&&e())}},[o,g]);let j=async(e,a)=>{let s,t,n=-1;for(let l of eS)if(-1!==l.machines.findIndex(e=>e.id===a)){t=(0,an.H9)(at.db,"buildings",l.id);let i=await e.get(t);if(!i.exists())throw Error("Building ".concat(l.id," not found in database."));n=(s=i.data()).machines.findIndex(e=>e.id===a);break}if(!s||!t||-1===n)throw Error("Could not find the machine in any building.");return{building:s,buildingRef:t,machineIndex:n}},v=l.flatMap(e=>e.machines).filter(e=>"in-use"===e.status&&e.apartmentUser===s).length,b=async(e,a)=>{if(v>=2)return void o({title:"Machine Limit Reached",description:"You can only use a maximum of 2 machines at a time.",variant:"destructive"});try{if(await (0,an.c4)(at.db,async t=>{let{building:n,buildingRef:l,machineIndex:i}=await j(t,e);if(-1===i)throw Error("Machine not found");let r=n.machines[i];if("available"!==r.status)throw Error("Machine is not available to start.");let d=[...n.machines];d[i]={...r,status:"in-use",timerEnd:Date.now()+60*a*1e3,apartmentUser:s},t.update(l,{machines:d})}),x)try{let s=parseInt(e.replace("machine-","")),t=e.includes("wash")?"wash":"dry";await m(s,t,a),o({title:"Timer Started! ⏰",description:"".concat("wash"===t?"Washing":"Drying"," machine ").concat(s," - ").concat(a," minutes. You'll get notified when it's done!")})}catch(e){console.error("Error starting notification timer:",e)}}catch(e){console.error("Error starting machine:",e),o({title:"Error",description:e.message,variant:"destructive"})}},N=(0,n.useCallback)(async e=>{try{await (0,an.c4)(at.db,async a=>{let{building:s,buildingRef:t,machineIndex:n}=await j(a,e);if(-1===n)return;let l=[...s.machines];l[n]={...l[n],status:"available",timerEnd:null,apartmentUser:null},a.update(t,{machines:l})})}catch(e){console.error("Error finishing machine:",e)}},[x]),w=async(e,a)=>{try{await (0,an.c4)(at.db,async t=>{let{building:n,buildingRef:l,machineIndex:i}=await j(t,e);if(-1===i)throw Error("Machine not found");let r=n.machines[i],d={id:Date.now().toString(),userId:s,issue:a},c=[...r.reports,d],m=[...n.machines],u=c.length>=5?"out-of-order":r.status;m[i]={...r,reports:c,status:u},t.update(l,{machines:m}),"out-of-order"===u&&o({title:"Machine Out of Order",description:"Machine ".concat(r.name," has been marked as out-of-order due to multiple reports."),variant:"destructive"})})}catch(e){console.error("Error reporting issue:",e),o({title:"Error",description:e.message,variant:"destructive"})}},y=async(e,a)=>{try{await (0,an.c4)(at.db,async s=>{let{building:t,buildingRef:n,machineIndex:l}=await j(s,e);if(-1===l)throw Error("Machine not found");let i=t.machines[l],r=i.reports.filter(e=>e.id!==a),d=[...t.machines];d[l]={...i,reports:r,status:"out-of-order"===i.status&&r.length<5?"available":i.status},s.update(n,{machines:d})}),o({title:"Success",description:"Report has been resolved."})}catch(e){console.error("Error resolving report:",e),o({title:"Error",description:e.message,variant:"destructive"})}},C=async(e,a)=>{try{await (0,an.c4)(at.db,async t=>{let{building:n,buildingRef:l,machineIndex:i}=await j(t,e);if(-1===i)throw Error("Machine not found");let r=n.machines[i],d={id:Date.now().toString(),userId:s,message:a},c=[...r.warnings,d],o=[...n.machines];o[i]={...r,warnings:c},t.update(l,{machines:o})})}catch(e){console.error("Error sending warning:",e),o({title:"Error",description:e.message,variant:"destructive"})}},k=async(e,a)=>{try{await (0,an.c4)(at.db,async s=>{let{building:t,buildingRef:n,machineIndex:l}=await j(s,e);if(-1===l)throw Error("Machine not found");let i=t.machines[l],r=i.warnings.filter(e=>e.id!==a),d=[...t.machines];d[l]={...i,warnings:r},s.update(n,{machines:d})}),o({title:"Success",description:"Warning has been resolved."})}catch(e){console.error("Error resolving warning:",e),o({title:"Error",description:e.message,variant:"destructive"})}};if(r)return(0,t.jsx)("div",{className:"space-y-8 p-4 md:p-8",children:(0,t.jsxs)("section",{children:[(0,t.jsx)(e$,{className:"h-10 w-1/3 mb-4"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:[(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"})]})]})});let E="all"===a?l:l.filter(e=>e.id===a);return 0!==E.length||r?(0,t.jsxs)("div",{className:"space-y-6",children:[x&&(0,t.jsx)(aQ.Zp,{className:"border-l-4 ".concat(h?"border-l-green-500 bg-green-50 dark:bg-green-950/20":"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/20"),children:(0,t.jsx)(aQ.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:h?(0,t.jsx)(d.A,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(aX.A,{className:"h-5 w-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:h?(0,t.jsx)(t.Fragment,{children:"✅ Notifications Enabled - You'll get alerts when your laundry is done!"}):(0,t.jsx)(t.Fragment,{children:"⚠️ Enable notifications to get laundry completion alerts"})}),f.length>0&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["\uD83D\uDD04 ",f.length," active timer",1===f.length?"":"s"," running"]})]})]}),!h&&(0,t.jsxs)(U.$,{variant:"outline",size:"sm",onClick:p,className:"flex items-center gap-2",children:[(0,t.jsx)(aK.A,{className:"h-4 w-4"}),"Enable"]})]})})}),E.map(e=>(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight mb-4 font-headline",children:e.name}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:e.machines.map(e=>(0,t.jsx)(aY,{machine:e,currentUser:s,onStart:b,onFinish:N,onReport:w,onWarning:C,canStartNewMachine:v<2,onResolveReport:y,onResolveWarning:k},e.id))})]},e.id))]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"No Machines Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"all"===a?"There are no buildings or machines defined in the code.":"This building has no machines defined or does not exist."})]})}var a2=s(5943),a1=s(1859),a4=s(1920),a5=s(4371),a3=s(7648),a8=s(8111),a6=s(3662),a9=s(8224);let a7={fitnessRoom:["42101"],teaRoom:["42101"],tabuCafeteria:["42101"],tabuBar:["42101"]},se={fitnessRoom:{id:"fitnessRoom",schedule:[{day:"Tuesday",hours:"6:00 PM - 8:00 PM"},{day:"Friday",hours:"6:00 PM - 8:00 PM"},{day:"Sunday",hours:"6:00 PM - 8:00 PM"}],upcomingEvents:[{id:"event1",title:"Yoga Session",date:"August 5, 2024",time:"7:00 PM",location:"Main Hall"},{id:"event2",title:"Cardio Challenge",date:"August 12, 2024",time:"6:30 PM",location:"Fitness Room"}],passedEvents:[{id:"event3",title:"Spinning Marathon",date:"July 20, 2024"},{id:"event4",title:"Weightlifting Workshop",date:"July 15, 2024"}]},teaRoom:{id:"teaRoom",schedule:[{day:"Monday",hours:"4:00 PM - 7:00 PM"},{day:"Thursday",hours:"4:00 PM - 7:00 PM"}],specialMenu:[{id:"menu1",name:"Matcha Latte",price:"€ 3.0"},{id:"menu2",name:"Bubble Tea",price:"€ 3.5"},{id:"menu3",name:"Scones with Cream",price:"€ 2.5"}],usualMenu:[{id:"menu4",name:"Assam Black Tea",price:"€ 1.5"},{id:"menu5",name:"Green Tea",price:"€ 1.5"},{id:"menu6",name:"Herbal Infusion",price:"€ 1.5"},{id:"menu7",name:"Shortbread Cookies",price:"€ 1"}],upcomingEvents:[{id:"event1",title:"Tea Tasting",date:"August 22, 2024",time:"5:00 PM",location:"Tea Room"}],passedEvents:[{id:"event2",title:"High Tea Special",date:"July 18, 2024"}],privatePartiesContact:"us"},tabuCafeteria:{id:"tabuCafeteria",schedule:[{day:"Wednesday",hours:"5:00 PM - 8:00 PM"},{day:"Sunday",hours:"5:00 PM - 8:00 PM"}],specialMenu:[{id:"menu1",name:"Mango Cheesecake",price:"€ 2.5"},{id:"menu2",name:"Fruit Popsicle Eis",price:"€ 1"},{id:"menu3",name:"Spaghetti Icecream",price:"€ 1.5"},{id:"menu4",name:"Vanilla Berry Sunday",price:"€ 2"}],usualMenu:[{id:"menu5",name:"Pommes",price:"€ 2 / € 1.5"},{id:"menu6",name:"Chicken Wings",price:"2-3 Pcs"},{id:"menu7",name:"Iced Coffee Latte",price:"€ 1.5"},{id:"menu8",name:"Warm Tea",price:"€ 0.50"},{id:"menu9",name:"Desi Chai",price:"€ 1.5"},{id:"menu10",name:"Pan Cakes + Berries",price:"€ 2"},{id:"menu11",name:"Brownies",price:"1.5 - 2 Pcs"},{id:"menu12",name:"Peach ice tea",price:"€ 1"}],upcomingEvents:[{id:"event1",title:"Taco Tuesday",date:"August 13, 2024",time:"12:00 PM",location:"Cafeteria"}],passedEvents:[{id:"event2",title:"Pancake Breakfast",date:"July 9, 2024"}],privatePartiesContact:"ABC"},tabuBar:{id:"tabuBar",schedule:[{day:"Friday",hours:"8:00 PM onwards"}],upcomingEvents:[{id:"event1",title:"Karaoke Night",date:"August 16, 2024",time:"9:00 PM",location:"Main Bar Area"}],passedEvents:[{id:"event2",title:"Oktoberfest Pre-party",date:"July 26, 2024"}],privatePartiesContact:"XYZ"}};function sa(e,a){let s=(0,an.H9)(at.db,"tabu2Content",e);return(0,an.aQ)(s,async t=>{if(t.exists())a(t.data());else{console.log("No content for ".concat(e,", seeding initial data during subscription..."));let a=se[e];a?await (0,an.BN)(s,a):console.error("No initial data defined for page: ".concat(e))}})}async function ss(e,a){if(!e)throw Error("A pageId is required to update content.");let s=(0,an.H9)(at.db,"tabu2Content",e);await (0,an.BN)(s,a,{merge:!0})}let st="fitnessRoom";function sn(){var e,a,s,l,i,r;let[d,c]=(0,n.useState)(!1),[o,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),{toast:g}=(0,eN.dj)();(0,n.useEffect)(()=>{let e=localStorage.getItem("laundryUser");if(e){let a=e.replace("Apt ","");c(a7.fitnessRoom.includes(a))}let a=sa(st,e=>{x(e),f(JSON.parse(JSON.stringify(e)))});return()=>a()},[]);let j=async()=>{if(h)try{await ss(st,h),g({title:"Success",description:"Content updated successfully."}),m(!1)}catch(e){g({title:"Error",description:"Failed to update content.",variant:"destructive"})}},v=(e,a,s,t)=>{f(n=>{if(!n)return null;let l={...n},i=l[e];return i&&i[a]&&(i[a]={...i[a],[s]:t}),l})},N=e=>{f(a=>{let s;if(!a)return null;let t={...a},n=t[e]||[];if("schedule"===e)s={day:"",hours:""};else{if("upcomingEvents"!==e&&"passedEvents"!==e)return a;s={id:"new-".concat(Date.now()),title:"",date:"",time:"",location:""}}return t[e]=[...n,s],t})},y=(e,a)=>{f(s=>{if(!s)return null;let t={...s},n=t[e];return n&&n.splice(a,1),t})};return u?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-2 md:p-8 gap-6 md:gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg relative",children:[d&&(0,t.jsxs)(ee,{open:o,onOpenChange:m,children:[(0,t.jsx)(ea,{asChild:!0,children:(0,t.jsxs)(U.$,{variant:"outline",size:"icon",className:"absolute top-2 right-2 md:top-4 md:right-4 h-8 w-8",children:[(0,t.jsx)(a2.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit Details"})]})}),(0,t.jsxs)(en,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Edit Fitness Room Details"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Opening Hours"}),null==h||null==(e=h.schedule)?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"grid-1/2 flex-grow",children:[(0,t.jsx)(eo.J,{children:"Day"}),(0,t.jsx)(eL.p,{value:e.day,onChange:e=>v("schedule",a,"day",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid-1/2 flex-grow",children:[(0,t.jsx)(eo.J,{children:"Hours"}),(0,t.jsx)(eL.p,{value:e.hours,onChange:e=>v("schedule",a,"hours",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>y("schedule",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},a)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>N("schedule"),children:"Add Hour"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Upcoming Events"}),null==h||null==(a=h.upcomingEvents)?void 0:a.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>y("upcomingEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>v("upcomingEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>v("upcomingEvents",a,"date",e.target.value)}),(0,t.jsx)(eo.J,{children:"Time"}),(0,t.jsx)(eL.p,{value:e.time,onChange:e=>v("upcomingEvents",a,"time",e.target.value)}),(0,t.jsx)(eo.J,{children:"Location"}),(0,t.jsx)(eL.p,{value:e.location,onChange:e=>v("upcomingEvents",a,"location",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>N("upcomingEvents"),children:"Add Upcoming Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Past Events"}),null==h||null==(s=h.passedEvents)?void 0:s.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>y("passedEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>v("passedEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>v("passedEvents",a,"date",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>N("passedEvents"),children:"Add Past Event"})]})]}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,t.jsx)(U.$,{onClick:j,children:"Save Changes"})]})]})]}),(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(a1.A,{className:"h-8 md:h-10 w-8 md:w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-2xl md:text-3xl font-bold font-headline tracking-tight",children:"Fitness Room"})]}),(0,t.jsx)(aQ.BT,{className:"text-base md:text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-4 md:p-6",children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(l=u.schedule)?void 0:l.map(e=>{let a="Closed"===e.hours;return(0,t.jsxs)("li",{className:(0,w.cn)("flex items-center justify-between p-3 md:p-4 bg-background rounded-lg shadow-sm border border-border/50 transition-all",a?"opacity-60":"hover:border-primary/50 hover:bg-muted/50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a4.A,{className:(0,w.cn)("h-5 w-5",a?"text-muted-foreground":"text-primary/80")}),(0,t.jsx)("span",{className:"text-base md:text-lg font-medium",children:e.day})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,t.jsx)(a5.A,{className:"h-4 w-4 text-muted-foreground"}):(0,t.jsx)(a3.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:(0,w.cn)("text-base md:text-lg font-mono text-sm",a?"text-muted-foreground":"text-foreground"),children:e.hours})]})]},e.day)})})})]}),(0,t.jsx)(eA,{className:"my-2 md:my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a8.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Upcoming Events"})]})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(i=u.upcomingEvents)?void 0:i.map(e=>(0,t.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 md:p-4 bg-background rounded-lg border border-border/50",children:[(0,t.jsx)("span",{className:"font-semibold text-base md:text-lg",children:e.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs md:text-sm text-muted-foreground mt-2 sm:mt-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a4.A,{className:"h-4 w-4"})," ",e.date]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4"})," ",e.time]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a6.A,{className:"h-4 w-4"})," ",e.location]})]})]},e.id))})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg opacity-70",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a9.A,{className:"h-6 md:h-8 w-6 md:w-8 text-muted-foreground"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Past Events"})]})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(r=u.passedEvents)?void 0:r.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-3 text-muted-foreground",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"flex-1 text-sm md:text-base",children:e.title}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:e.date})]},e.id))})})]})]}):(0,t.jsx)(sl,{})}function sl(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-4 md:p-8 gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(a1.A,{className:"h-10 w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-3xl font-bold font-headline tracking-tight",children:"Fitness Room"})]}),(0,t.jsx)(aQ.BT,{className:"text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(e$,{className:"h-16 w-full"}),(0,t.jsx)(e$,{className:"h-16 w-full"}),(0,t.jsx)(e$,{className:"h-16 w-full"})]})})]}),(0,t.jsx)(eA,{className:"my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsxs)(aQ.Wu,{className:"space-y-4",children:[(0,t.jsx)(e$,{className:"h-12 w-full"}),(0,t.jsx)(e$,{className:"h-12 w-full"})]})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsxs)(aQ.Wu,{className:"space-y-3",children:[(0,t.jsx)(e$,{className:"h-8 w-full"}),(0,t.jsx)(e$,{className:"h-8 w-full"})]})]})]})}var si=s(5121),sr=s(1550),sd=s(2160);let sc="tabuCafeteria";function so(){var e,a,s,l,i,r,d,c;let[o,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[g,j]=(0,n.useState)(null),{toast:v}=(0,eN.dj)();(0,n.useEffect)(()=>{let e=localStorage.getItem("laundryUser");if(e){let a=e.replace("Apt ","");m(a7.tabuCafeteria.includes(a))}let a=sa(sc,e=>{f(e),j(JSON.parse(JSON.stringify(e)))});return()=>a()},[]);let N=async()=>{if(g)try{await ss(sc,g),v({title:"Success",description:"Content updated successfully."}),x(!1)}catch(e){v({title:"Error",description:"Failed to update content.",variant:"destructive"})}},w=(e,a,s,t)=>{j(n=>{if(!n)return null;let l={...n},i=l[e];return i&&i[a]&&(i[a]={...i[a],[s]:t}),l})},y=e=>{j(a=>{let s;if(!a)return null;let t={...a},n=t[e]||[];if("schedule"===e)s={day:"",hours:""};else if("specialMenu"===e||"usualMenu"===e)s={id:"new-".concat(Date.now()),name:"",price:""};else{if("upcomingEvents"!==e&&"passedEvents"!==e)return a;s={id:"new-".concat(Date.now()),title:"",date:"",time:"",location:""}}return t[e]=[...n,s],t})},C=(e,a)=>{j(s=>{if(!s)return null;let t={...s},n=t[e];return n&&n.splice(a,1),t})},k=(e,a)=>{j(s=>s?{...s,[e]:a}:null)};return h?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-2 md:p-8 gap-6 md:gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg relative",children:[o&&(0,t.jsxs)(ee,{open:u,onOpenChange:x,children:[(0,t.jsx)(ea,{asChild:!0,children:(0,t.jsxs)(U.$,{variant:"outline",size:"icon",className:"absolute top-2 right-2 md:top-4 md:right-4 h-8 w-8",children:[(0,t.jsx)(a2.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit Details"})]})}),(0,t.jsxs)(en,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Edit Tabu Cafeteria Details"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Opening Hours"}),null==g||null==(e=g.schedule)?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Day"}),(0,t.jsx)(eL.p,{value:e.day,onChange:e=>w("schedule",a,"day",e.target.value)})]}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Hours"}),(0,t.jsx)(eL.p,{value:e.hours,onChange:e=>w("schedule",a,"hours",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("schedule",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},a)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("schedule"),children:"Add Hour"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Special Menu"}),null==g||null==(a=g.specialMenu)?void 0:a.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Name"}),(0,t.jsx)(eL.p,{value:e.name,onChange:e=>w("specialMenu",a,"name",e.target.value)})]}),(0,t.jsxs)("div",{className:"w-1/4",children:[(0,t.jsx)(eo.J,{children:"Price"}),(0,t.jsx)(eL.p,{value:e.price,onChange:e=>w("specialMenu",a,"price",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("specialMenu",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("specialMenu"),children:"Add Special Item"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Usual Menu"}),null==g||null==(s=g.usualMenu)?void 0:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Name"}),(0,t.jsx)(eL.p,{value:e.name,onChange:e=>w("usualMenu",a,"name",e.target.value)})]}),(0,t.jsxs)("div",{className:"w-1/4",children:[(0,t.jsx)(eo.J,{children:"Price"}),(0,t.jsx)(eL.p,{value:e.price,onChange:e=>w("usualMenu",a,"price",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("usualMenu",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("usualMenu"),children:"Add Usual Item"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Upcoming Events"}),null==g||null==(l=g.upcomingEvents)?void 0:l.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>C("upcomingEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>w("upcomingEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>w("upcomingEvents",a,"date",e.target.value)}),(0,t.jsx)(eo.J,{children:"Time"}),(0,t.jsx)(eL.p,{value:e.time,onChange:e=>w("upcomingEvents",a,"time",e.target.value)}),(0,t.jsx)(eo.J,{children:"Location"}),(0,t.jsx)(eL.p,{value:e.location,onChange:e=>w("upcomingEvents",a,"location",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("upcomingEvents"),children:"Add Upcoming Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Past Events"}),null==g||null==(i=g.passedEvents)?void 0:i.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>C("passedEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>w("passedEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>w("passedEvents",a,"date",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("passedEvents"),children:"Add Past Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eo.J,{children:"Private Parties Contact"}),(0,t.jsx)(eL.p,{value:(null==g?void 0:g.privatePartiesContact)||"",onChange:e=>k("privatePartiesContact",e.target.value)})]})]}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),(0,t.jsx)(U.$,{onClick:N,children:"Save Changes"})]})]})]}),(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(si.A,{className:"h-8 md:h-10 w-8 md:w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-2xl md:text-3xl font-bold font-headline tracking-tight",children:"Tabu Cafeteria"})]}),(0,t.jsx)(aQ.BT,{className:"text-base md:text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-4 md:p-6",children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(r=h.schedule)?void 0:r.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between p-3 md:p-4 bg-background rounded-lg shadow-sm border border-border/50 transition-all hover:border-primary/50 hover:bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a4.A,{className:"h-5 w-5 text-primary/80"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-medium",children:e.day})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-mono text-foreground",children:e.hours})]})]},e.day))})})]}),(0,t.jsx)(eA,{className:"my-2 md:my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-4xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sr.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Menu for the Day"})]}),(0,t.jsx)(aQ.BT,{children:"Seasonal, cold, and made with love"})]}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg md:text-xl font-bold mb-4 text-center text-white bg-yellow-500 rounded-md py-2",children:"SPECIAL MENU"}),(0,t.jsx)("ul",{className:"space-y-3",children:null==(d=h.specialMenu)?void 0:d.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-baseline border-b border-dashed pb-2",children:[(0,t.jsx)("span",{className:"font-medium text-sm md:text-base",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-muted-foreground text-sm md:text-base",children:e.price})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg md:text-xl font-bold mb-4 text-center text-white bg-yellow-500 rounded-md py-2",children:"USUAL MENU"}),(0,t.jsx)("ul",{className:"space-y-3",children:null==(c=h.usualMenu)?void 0:c.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-baseline border-b border-dashed pb-2",children:[(0,t.jsx)("span",{className:"font-medium text-sm md:text-base",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-muted-foreground text-sm md:text-base",children:e.price})]},e.id))})]})]})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a8.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Upcoming Events"})]})}),(0,t.jsx)(aQ.Wu,{children:h.upcomingEvents&&h.upcomingEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:h.upcomingEvents.map(e=>(0,t.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 md:p-4 bg-background rounded-lg border border-border/50",children:[(0,t.jsx)("span",{className:"font-semibold text-base md:text-lg",children:e.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs md:text-sm text-muted-foreground mt-2 sm:mt-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a4.A,{className:"h-4 w-4"})," ",e.date]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4"})," ",e.time]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a6.A,{className:"h-4 w-4"})," ",e.location]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No upcoming events scheduled."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg opacity-70",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a9.A,{className:"h-6 md:h-8 w-6 md:w-8 text-muted-foreground"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Past Events"})]})}),(0,t.jsx)(aQ.Wu,{children:h.passedEvents&&h.passedEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:h.passedEvents.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-3 text-muted-foreground",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"flex-1 text-sm md:text-base",children:e.title}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:e.date})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No past events to show."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sd.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Private Parties"})]})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("p",{className:"text-center text-muted-foreground p-2 md:p-4 text-sm md:text-base",children:["To rent the cafeteria for a private party, please contact ",h.privatePartiesContact||"ABC","."]})})]})]}):(0,t.jsx)(sm,{})}function sm(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-4 md:p-8 gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(si.A,{className:"h-10 w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-3xl font-bold font-headline tracking-tight",children:"Tabu Cafeteria"})]}),(0,t.jsx)(aQ.BT,{className:"text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(e$,{className:"h-16 w-full"}),(0,t.jsx)(e$,{className:"h-16 w-full"})]})})]}),(0,t.jsx)(eA,{className:"my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-4xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(e$,{className:"h-10 w-full mb-4"}),(0,t.jsx)(e$,{className:"h-8 w-full mb-2"}),(0,t.jsx)(e$,{className:"h-8 w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(e$,{className:"h-10 w-full mb-4"}),(0,t.jsx)(e$,{className:"h-8 w-full mb-2"}),(0,t.jsx)(e$,{className:"h-8 w-full"})]})]})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{className:"space-y-4",children:(0,t.jsx)(e$,{className:"h-12 w-full"})})]})]})}var su=s(680);let sx="tabuBar";function sh(){var e,a,s,l;let[i,r]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[u,x]=(0,n.useState)(null),{toast:h}=(0,eN.dj)();(0,n.useEffect)(()=>{let e=localStorage.getItem("laundryUser");if(e){let a=e.replace("Apt ","");r(a7.tabuBar.includes(a))}let a=sa(sx,e=>{m(e),x(JSON.parse(JSON.stringify(e)))});return()=>a()},[]);let f=async()=>{if(u)try{await ss(sx,u),h({title:"Success",description:"Content updated successfully."}),c(!1)}catch(e){h({title:"Error",description:"Failed to update content.",variant:"destructive"})}},g=(e,a,s,t)=>{x(n=>{if(!n)return null;let l={...n},i=l[e];return i&&i[a]&&(i[a]={...i[a],[s]:t}),l})},j=e=>{x(a=>{let s;if(!a)return null;let t={...a},n=t[e]||[];if("schedule"===e)s={day:"",hours:""};else{if("upcomingEvents"!==e&&"passedEvents"!==e)return a;s={id:"new-".concat(Date.now()),title:"",date:"",time:"",location:""}}return t[e]=[...n,s],t})},v=(e,a)=>{x(s=>{if(!s)return null;let t={...s},n=t[e];return n&&n.splice(a,1),t})},N=(e,a)=>{x(s=>s?{...s,[e]:a}:null)};return o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-2 md:p-8 gap-6 md:gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg relative",children:[i&&(0,t.jsxs)(ee,{open:d,onOpenChange:c,children:[(0,t.jsx)(ea,{asChild:!0,children:(0,t.jsxs)(U.$,{variant:"outline",size:"icon",className:"absolute top-2 right-2 md:top-4 md:right-4 h-8 w-8",children:[(0,t.jsx)(a2.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit Details"})]})}),(0,t.jsxs)(en,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Edit Tabu Bar Details"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Opening Hours"}),null==u||null==(e=u.schedule)?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Day"}),(0,t.jsx)(eL.p,{value:e.day,onChange:e=>g("schedule",a,"day",e.target.value)})]}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Hours"}),(0,t.jsx)(eL.p,{value:e.hours,onChange:e=>g("schedule",a,"hours",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>v("schedule",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},a)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>j("schedule"),children:"Add Hour"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Upcoming Events"}),null==u||null==(a=u.upcomingEvents)?void 0:a.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>v("upcomingEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>g("upcomingEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>g("upcomingEvents",a,"date",e.target.value)}),(0,t.jsx)(eo.J,{children:"Time"}),(0,t.jsx)(eL.p,{value:e.time,onChange:e=>g("upcomingEvents",a,"time",e.target.value)}),(0,t.jsx)(eo.J,{children:"Location"}),(0,t.jsx)(eL.p,{value:e.location,onChange:e=>g("upcomingEvents",a,"location",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>j("upcomingEvents"),children:"Add Upcoming Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Past Events"}),null==u||null==(s=u.passedEvents)?void 0:s.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>v("passedEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>g("passedEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>g("passedEvents",a,"date",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>j("passedEvents"),children:"Add Past Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eo.J,{children:"Private Parties Contact"}),(0,t.jsx)(eL.p,{value:(null==u?void 0:u.privatePartiesContact)||"",onChange:e=>N("privatePartiesContact",e.target.value)})]})]}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),(0,t.jsx)(U.$,{onClick:f,children:"Save Changes"})]})]})]}),(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(su.A,{className:"h-8 md:h-10 w-8 md:w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-2xl md:text-3xl font-bold font-headline tracking-tight",children:"Tabu Bar"})]}),(0,t.jsx)(aQ.BT,{className:"text-base md:text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-4 md:p-6",children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(l=o.schedule)?void 0:l.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between p-3 md:p-4 bg-background rounded-lg shadow-sm border border-border/50 hover:border-primary/50 hover:bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a4.A,{className:"h-5 w-5 text-primary/80"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-medium",children:e.day})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-mono text-foreground",children:e.hours})]})]},e.day))})})]}),(0,t.jsx)(eA,{className:"my-2 md:my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a8.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Upcoming Events"})]})}),(0,t.jsx)(aQ.Wu,{children:o.upcomingEvents&&o.upcomingEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:o.upcomingEvents.map(e=>(0,t.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 md:p-4 bg-background rounded-lg border border-border/50",children:[(0,t.jsx)("span",{className:"font-semibold text-base md:text-lg",children:e.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs md:text-sm text-muted-foreground mt-2 sm:mt-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a4.A,{className:"h-4 w-4"})," ",e.date]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4"})," ",e.time]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a6.A,{className:"h-4 w-4"})," ",e.location]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No upcoming events scheduled."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg opacity-70",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a9.A,{className:"h-6 md:h-8 w-6 md:w-8 text-muted-foreground"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Past Events"})]})}),(0,t.jsx)(aQ.Wu,{children:o.passedEvents&&o.passedEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:o.passedEvents.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-3 text-muted-foreground",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"flex-1 text-sm md:text-base",children:e.title}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:e.date})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No past events to show."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sd.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Private Parties"})]})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("p",{className:"text-center text-muted-foreground p-2 md:p-4 text-sm md:text-base",children:["To rent the bar for a private party, please contact ",o.privatePartiesContact||"XYZ","."]})})]})]}):(0,t.jsx)(sp,{})}function sp(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-4 md:p-8 gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(su.A,{className:"h-10 w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-3xl font-bold font-headline tracking-tight",children:"Tabu Bar"})]}),(0,t.jsx)(aQ.BT,{className:"text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(e$,{className:"h-16 w-full"})})})]}),(0,t.jsx)(eA,{className:"my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{className:"space-y-4",children:(0,t.jsx)(e$,{className:"h-12 w-full"})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{className:"space-y-3",children:(0,t.jsx)(e$,{className:"h-8 w-full"})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsx)(e$,{className:"h-6 w-3/4 mx-auto"})})]})]})}var sf=s(6578);let sg="teaRoom";function sj(){var e,a,s,l,i,r,d,c;let[o,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[g,j]=(0,n.useState)(null),{toast:v}=(0,eN.dj)();(0,n.useEffect)(()=>{let e=localStorage.getItem("laundryUser");if(e){let a=e.replace("Apt ","");m(a7.teaRoom.includes(a))}let a=sa(sg,e=>{f(e),j(JSON.parse(JSON.stringify(e)))});return()=>a()},[]);let N=async()=>{if(g)try{await ss(sg,g),v({title:"Success",description:"Content updated successfully."}),x(!1)}catch(e){v({title:"Error",description:"Failed to update content.",variant:"destructive"})}},w=(e,a,s,t)=>{j(n=>{if(!n)return null;let l={...n},i=l[e];return i&&i[a]&&(i[a]={...i[a],[s]:t}),l})},y=e=>{j(a=>{let s;if(!a)return null;let t={...a},n=t[e]||[];if("schedule"===e)s={day:"",hours:""};else if("specialMenu"===e||"usualMenu"===e)s={id:"new-".concat(Date.now()),name:"",price:""};else{if("upcomingEvents"!==e&&"passedEvents"!==e)return a;s={id:"new-".concat(Date.now()),title:"",date:"",time:"",location:""}}return t[e]=[...n,s],t})},C=(e,a)=>{j(s=>{if(!s)return null;let t={...s},n=t[e];return n&&n.splice(a,1),t})},k=(e,a)=>{j(s=>s?{...s,[e]:a}:null)};return h?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-2 md:p-8 gap-6 md:gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg relative",children:[o&&(0,t.jsxs)(ee,{open:u,onOpenChange:x,children:[(0,t.jsx)(ea,{asChild:!0,children:(0,t.jsxs)(U.$,{variant:"outline",size:"icon",className:"absolute top-2 right-2 md:top-4 md:right-4 h-8 w-8",children:[(0,t.jsx)(a2.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit Details"})]})}),(0,t.jsxs)(en,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(el,{children:(0,t.jsx)(er,{children:"Edit Tea Room Details"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Opening Hours"}),null==g||null==(e=g.schedule)?void 0:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Day"}),(0,t.jsx)(eL.p,{value:e.day,onChange:e=>w("schedule",a,"day",e.target.value)})]}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Hours"}),(0,t.jsx)(eL.p,{value:e.hours,onChange:e=>w("schedule",a,"hours",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("schedule",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},a)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("schedule"),children:"Add Hour"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Special Menu"}),null==g||null==(a=g.specialMenu)?void 0:a.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Name"}),(0,t.jsx)(eL.p,{value:e.name,onChange:e=>w("specialMenu",a,"name",e.target.value)})]}),(0,t.jsxs)("div",{className:"w-1/4",children:[(0,t.jsx)(eo.J,{children:"Price"}),(0,t.jsx)(eL.p,{value:e.price,onChange:e=>w("specialMenu",a,"price",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("specialMenu",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("specialMenu"),children:"Add Special Item"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Usual Menu"}),null==g||null==(s=g.usualMenu)?void 0:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(eo.J,{children:"Name"}),(0,t.jsx)(eL.p,{value:e.name,onChange:e=>w("usualMenu",a,"name",e.target.value)})]}),(0,t.jsxs)("div",{className:"w-1/4",children:[(0,t.jsx)(eo.J,{children:"Price"}),(0,t.jsx)(eL.p,{value:e.price,onChange:e=>w("usualMenu",a,"price",e.target.value)})]}),(0,t.jsx)(U.$,{variant:"destructive",size:"icon",onClick:()=>C("usualMenu",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("usualMenu"),children:"Add Usual Item"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Upcoming Events"}),null==g||null==(l=g.upcomingEvents)?void 0:l.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>C("upcomingEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>w("upcomingEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>w("upcomingEvents",a,"date",e.target.value)}),(0,t.jsx)(eo.J,{children:"Time"}),(0,t.jsx)(eL.p,{value:e.time,onChange:e=>w("upcomingEvents",a,"time",e.target.value)}),(0,t.jsx)(eo.J,{children:"Location"}),(0,t.jsx)(eL.p,{value:e.location,onChange:e=>w("upcomingEvents",a,"location",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("upcomingEvents"),children:"Add Upcoming Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Past Events"}),null==g||null==(i=g.passedEvents)?void 0:i.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 border rounded-md space-y-2 relative",children:[(0,t.jsx)(U.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>C("passedEvents",a),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(eo.J,{children:"Title"}),(0,t.jsx)(eL.p,{value:e.title,onChange:e=>w("passedEvents",a,"title",e.target.value)}),(0,t.jsx)(eo.J,{children:"Date"}),(0,t.jsx)(eL.p,{value:e.date,onChange:e=>w("passedEvents",a,"date",e.target.value)})]},e.id)),(0,t.jsx)(U.$,{variant:"outline",onClick:()=>y("passedEvents"),children:"Add Past Event"})]}),(0,t.jsx)(eA,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eo.J,{children:"Private Parties Contact"}),(0,t.jsx)(eL.p,{value:(null==g?void 0:g.privatePartiesContact)||"",onChange:e=>k("privatePartiesContact",e.target.value)})]})]}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(U.$,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),(0,t.jsx)(U.$,{onClick:N,children:"Save Changes"})]})]})]}),(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(sf.A,{className:"h-8 md:h-10 w-8 md:w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-2xl md:text-3xl font-bold font-headline tracking-tight",children:"Tea Room"})]}),(0,t.jsx)(aQ.BT,{className:"text-base md:text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-4 md:p-6",children:(0,t.jsx)("ul",{className:"space-y-3",children:null==(r=h.schedule)?void 0:r.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between p-3 md:p-4 bg-background rounded-lg shadow-sm border border-border/50 transition-all hover:border-primary/50 hover:bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a4.A,{className:"h-5 w-5 text-primary/80"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-medium",children:e.day})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-base md:text-lg font-mono text-foreground",children:e.hours})]})]},e.day))})})]}),(0,t.jsx)(eA,{className:"my-2 md:my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-4xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sr.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Menu of the Day"})]}),(0,t.jsx)(aQ.BT,{children:"A selection of fine teas and pastries."})]}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg md:text-xl font-bold mb-4 text-center text-white bg-primary/80 rounded-md py-2",children:"SPECIALS"}),(0,t.jsx)("ul",{className:"space-y-3",children:null==(d=h.specialMenu)?void 0:d.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-baseline border-b border-dashed pb-2",children:[(0,t.jsx)("span",{className:"font-medium text-sm md:text-base",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-muted-foreground text-sm md:text-base",children:e.price})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg md:text-xl font-bold mb-4 text-center text-white bg-primary/80 rounded-md py-2",children:"REGULARS"}),(0,t.jsx)("ul",{className:"space-y-3",children:null==(c=h.usualMenu)?void 0:c.map(e=>(0,t.jsxs)("li",{className:"flex justify-between items-baseline border-b border-dashed pb-2",children:[(0,t.jsx)("span",{className:"font-medium text-sm md:text-base",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-muted-foreground text-sm md:text-base",children:e.price})]},e.id))})]})]})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a8.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Upcoming Events"})]})}),(0,t.jsx)(aQ.Wu,{children:h.upcomingEvents&&h.upcomingEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:h.upcomingEvents.map(e=>(0,t.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 md:p-4 bg-background rounded-lg border border-border/50",children:[(0,t.jsx)("span",{className:"font-semibold text-base md:text-lg",children:e.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs md:text-sm text-muted-foreground mt-2 sm:mt-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a4.A,{className:"h-4 w-4"})," ",e.date]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a3.A,{className:"h-4 w-4"})," ",e.time]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a6.A,{className:"h-4 w-4"})," ",e.location]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No upcoming events scheduled."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg opacity-70",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(a9.A,{className:"h-6 md:h-8 w-6 md:w-8 text-muted-foreground"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Past Events"})]})}),(0,t.jsx)(aQ.Wu,{children:h.passedEvents&&h.passedEvents.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:h.passedEvents.map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-3 text-muted-foreground",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"flex-1 text-sm md:text-base",children:e.title}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:e.date})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No past events to show."})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sd.A,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-xl md:text-2xl font-bold font-headline",children:"Private Parties"})]})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("p",{className:"text-center text-muted-foreground p-2 md:p-4 text-sm md:text-base",children:["To rent the tea room for a private party, please contact ",h.privatePartiesContact||"us","."]})})]})]}):(0,t.jsx)(sv,{})}function sv(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start p-4 md:p-8 gap-8 w-full",children:[(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsxs)(aQ.aR,{className:"text-center bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-2",children:[(0,t.jsx)(sf.A,{className:"h-10 w-10 text-primary"}),(0,t.jsx)(aQ.ZB,{className:"text-3xl font-bold font-headline tracking-tight",children:"Tea Room"})]}),(0,t.jsx)(aQ.BT,{className:"text-lg",children:"Opening Hours"})]}),(0,t.jsx)(aQ.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(e$,{className:"h-16 w-full"}),(0,t.jsx)(e$,{className:"h-16 w-full"})]})})]}),(0,t.jsx)(eA,{className:"my-4 w-full max-w-2xl"}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-4xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(e$,{className:"h-10 w-full mb-4"}),(0,t.jsx)(e$,{className:"h-8 w-full mb-2"}),(0,t.jsx)(e$,{className:"h-8 w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(e$,{className:"h-10 w-full mb-4"}),(0,t.jsx)(e$,{className:"h-8 w-full mb-2"}),(0,t.jsx)(e$,{className:"h-8 w-full"})]})]})})]}),(0,t.jsxs)(aQ.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,t.jsx)(aQ.aR,{children:(0,t.jsx)(e$,{className:"h-8 w-48"})}),(0,t.jsx)(aQ.Wu,{className:"space-y-4",children:(0,t.jsx)(e$,{className:"h-12 w-full"})})]})]})}var sb=s(8186),sN=s(6950);function sw(){let[e,a]=(0,n.useState)("all"),[s,i]=(0,n.useState)(null),[r,d]=(0,n.useState)("laundry"),{isMobile:c,setOpenMobile:o}=eK(),m=(0,l.useRouter)(),[u,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("laundryUser");e?i(e):m.push("/login")},[m]),(0,n.useEffect)(()=>{!async function(){try{let e=await ao();x(e)}catch(e){console.error("Failed to check for updates on startup:",e),x(null)}}()},[]);let h=e=>{a(e),d("laundry"),c&&o(!1)},p=e=>{d(e),c&&o(!1)},f=["fitness","tea","cafeteria","bar"].includes(r);return s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e0,{children:[(0,t.jsx)(e4,{}),(0,t.jsx)(e5,{children:(0,t.jsxs)(e6,{children:[(0,t.jsx)(e9,{children:(0,t.jsxs)(e3,{children:[(0,t.jsx)(e8,{children:"Laundry"}),(0,t.jsxs)(e6,{children:[(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{onClick:()=>h("all"),isActive:"laundry"===r&&"all"===e,tooltip:"All Buildings",children:[(0,t.jsx)(sb.A,{}),(0,t.jsx)("span",{children:"All Buildings"})]})}),eS.map(a=>(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{onClick:()=>h(a.id),isActive:"laundry"===r&&e===a.id,tooltip:a.name,children:[(0,t.jsx)(sN.A,{}),(0,t.jsx)("span",{children:a.name})]})},a.id))]})]})}),(0,t.jsx)(e9,{children:(0,t.jsxs)(e3,{children:[(0,t.jsx)(e8,{children:"TABU 2"}),(0,t.jsxs)(e6,{children:[(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{tooltip:"Fitness room",onClick:()=>p("fitness"),isActive:"fitness"===r,children:[(0,t.jsx)(a1.A,{}),(0,t.jsx)("span",{children:"Fitness room"})]})}),(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{tooltip:"Tea Room",onClick:()=>p("tea"),isActive:"tea"===r,children:[(0,t.jsx)(sf.A,{}),(0,t.jsx)("span",{children:"Tea Room"})]})}),(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{tooltip:"Tabu Cafeteria",onClick:()=>p("cafeteria"),isActive:"cafeteria"===r,children:[(0,t.jsx)(si.A,{}),(0,t.jsx)("span",{children:"Tabu Cafeteria"})]})}),(0,t.jsx)(e9,{children:(0,t.jsxs)(ae,{tooltip:"Tabu Bar",onClick:()=>p("bar"),isActive:"bar"===r,children:[(0,t.jsx)(su.A,{}),(0,t.jsx)("span",{children:"Tabu Bar"})]})})]})]})})]})})]}),(0,t.jsx)(e1,{children:(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,t.jsx)(ab,{currentUser:s,title:f?"TABU 2":"LaundryView",updateInfo:u}),(0,t.jsxs)("main",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:["laundry"===r&&(0,t.jsx)(a0,{selectedBuildingId:e,currentUser:s}),"fitness"===r&&(0,t.jsx)(sn,{}),"cafeteria"===r&&(0,t.jsx)(so,{}),"bar"===r&&(0,t.jsx)(sh,{}),"tea"===r&&(0,t.jsx)(sj,{})]})]})})]}):(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background p-4 md:p-8",children:[(0,t.jsx)(e$,{className:"h-16 w-full mb-4"}),(0,t.jsxs)("div",{className:"flex gap-8",children:[(0,t.jsx)(e$,{className:"hidden md:block w-64 h-[calc(100vh-100px)]"}),(0,t.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,t.jsx)(e$,{className:"h-10 w-1/3"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"}),(0,t.jsx)(e$,{className:"h-64 w-full"})]})]})]})]})}function sy(){return(0,t.jsx)(eQ,{children:(0,t.jsx)(sw,{})})}},6695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>r});var t=s(5155),n=s(2115),l=s(9434);let i=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let r=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...n})});r.displayName="CardHeader";let d=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},7481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>u});var t=s(2115);let n=0,l=new Map,i=e=>{if(l.has(e))return;let a=setTimeout(()=>{l.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,a)},r=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],c={toasts:[]};function o(e){c=r(c,e),d.forEach(e=>{e(c)})}function m(e){let{...a}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,a]=t.useState(c);return t.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(2596),n=s(9688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,n.QP)((0,t.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,172,442,86,313,441,684,358],()=>a(3214)),_N_E=e.O()}]);